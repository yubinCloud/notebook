---
title: Java I/O 系统
date: 2022-01-25 01:07:44
permalink: /pages/33057b/
categories:
  - 开发
  - Java开发
  - Java SE
tags:
  - 
---

> 整体思路：先学会使用File类定位文件以及操作文件本身，然后学习 IO 流读写文件数据。
>
> + **File 类**可以定位文件：进行删除、获取文本本身信息等操作，**但是不能读写文件内容**；
> + **IO 流**技术可以对硬盘中的文件进行读写。

[[toc]]

## 1. File 类

File：它是文件和目录路径名的**抽象表示**：

+ **文件和目录都**可以通过 File 封装成对象；
+ 对于 File 而言，**其封装的并不是一个真正存在的文件**，仅仅是一个路径名而已。他可以是存在的，也可以是不存在的。

### 1.1 创建 File 类对象

|                   方法名称                   | 说明                                               |
| :------------------------------------------: | -------------------------------------------------- |
|       **public** File(String pathname)       | 根据文件路径创建文件对象                           |
| **public** File(String parent, String child) | 从父路径名字符串和子路径名字符串创建文件对象       |
|  **public** File(File parent, String child)  | 根据父路径对应文件对象和子路径名字符串创建文件对象 |

+ File 对象可以定位文件和目录。

▲ **`File.separator`** 表示系统的路径分隔符（Windows 与 Linux 不同）。

### 1.2 绝对路径和相对路径

**绝对路径**：从盘符开始

```java
File file1 = new File("D:\\itheima\\a.txt"); 
```

**相对路径**：一般定位模块中的文件的，<u>默认直接**到当前工程下**的目录寻找文件</u>

```java
File file3 = new File("模块名\\a.txt"); 
```

### 1.3 判断文件类型、获取文件信息

|         方法名称         | 说明                                       |
| :----------------------: | :----------------------------------------- |
|  boolean isDirectory()   | 测试此抽象路径名表示的File是否为文件夹     |
|     boolean isFile()     | 测试此抽象路径名表示的File是否为文件       |
|     boolean exists()     | 测试此抽象路径名表示的File是否存在         |
| String getAbsolutePath() | 返回此抽象路径名的绝对路径名字符串         |
|     String getPath()     | 将此抽象路径名转换为路径名字符串           |
|     String getName()     | 返回由此抽象路径名表示的文件或文件夹的名称 |
|         length()         | 获取文件的大小：**字节**个数               |
|   long lastModified()    | 返回文件最后修改的时间毫秒值               |

### 1.4 创建、删除文件

#### 创建文件：

|            方法名称            | 说明                       |
| :----------------------------: | -------------------------- |
| public boolean createNewFile() | 创建一个新的空的文件       |
|     public boolean mkdir()     | **只**能创建**一级**文件夹 |
|    public boolean mkdirs()     | 可以创建多级文件夹         |

+ 当文件已存在时，`createNewFile()` 会创建失败并返回 false。
+ 当想创建 `/resource/img/` 目录时，若 `/resource` 不存在，则 `mkdir` 会返回 false。

#### 删除文件：

|         方法名称         | 说明                                       |
| :----------------------: | ------------------------------------------ |
| public  boolean delete() | 删除由此抽象路径名表示的文件或**空文件夹** |

+ `delete` 在占用该文件时依然可以删除。
+ `delete` 只能删除空文件夹，**不能删除非空文件夹**

### 1.5 遍历文件夹

|        方法名称        | 说明                                                         |
| :--------------------: | ------------------------------------------------------------ |
|    String[] list()     | 获取当前目录下所有的"一级文件名称"到一个字符串数组中去返回。 |
| **File[] listFiles()** | 获取当前目录下所有的"一级**文件对象**"到一个文件对象数组中去返回（**重点**） |

`listFiles` 方法的注意事项：

+ 当调用者不存在时，返回null
+ 当调用者**是一个文件时，返回null**
+ 当调用者是一个空文件夹时，返回一个长度为0的数组
+ 当调用者是一个有内容的文件夹时，将里面所有文件和文件夹的路径放在File数组中返回
+ 当调用者是一个有隐藏文件的文件夹时，将里面所有文件和文件夹的路径放在File数组中返回，**包含隐藏内容**
+ 当调用者是一个需要权限才能进入的文件夹时，返回null