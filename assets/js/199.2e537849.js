(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{951:function(s,t,a){"use strict";a.r(t);var e=a(22),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-è®¤è¯†å¾®æœåŠ¡"}},[s._v("1. è®¤è¯†å¾®æœåŠ¡")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-1-å•ä½“æ¶æ„ä¸åˆ†å¸ƒå¼æ¶æ„"}},[s._v("1.1 å•ä½“æ¶æ„ä¸åˆ†å¸ƒå¼æ¶æ„")])]),a("li",[a("a",{attrs:{href:"#_1-2-å¾®æœåŠ¡"}},[s._v("1.2 å¾®æœåŠ¡")])]),a("li",[a("a",{attrs:{href:"#_1-3-spring-cloud"}},[s._v("1.3 Spring Cloud")])])])]),a("li",[a("a",{attrs:{href:"#_2-æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨"}},[s._v("2. æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨")]),a("ul",[a("li",[a("a",{attrs:{href:"#_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™"}},[s._v("2.1 æœåŠ¡æ‹†åˆ†åŸåˆ™")])]),a("li",[a("a",{attrs:{href:"#_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹"}},[s._v("2.2 æœåŠ¡æ‹†åˆ†ç¤ºä¾‹")])]),a("li",[a("a",{attrs:{href:"#_2-3-è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹"}},[s._v("2.3 è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹")])]),a("li",[a("a",{attrs:{href:"#_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…"}},[s._v("2.4 æä¾›è€…ä¸æ¶ˆè´¹è€…")])])])]),a("li",[a("a",{attrs:{href:"#_3-eureka-æ³¨å†Œä¸­å¿ƒ"}},[s._v("3. Eureka æ³¨å†Œä¸­å¿ƒ")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨"}},[s._v("3.1 Eureka çš„ç»“æ„å’Œä½œç”¨")])]),a("li",[a("a",{attrs:{href:"#_3-2-æ­å»º-eureka-server"}},[s._v("3.2 æ­å»º Eureka Server")])]),a("li",[a("a",{attrs:{href:"#_3-3-æœåŠ¡æ³¨å†Œ"}},[s._v("3.3 æœåŠ¡æ³¨å†Œ")])]),a("li",[a("a",{attrs:{href:"#_3-4-æœåŠ¡å‘ç°"}},[s._v("3.4 æœåŠ¡å‘ç°")])])])]),a("li",[a("a",{attrs:{href:"#_4-ribbon-è´Ÿè½½å‡è¡¡"}},[s._v("4. Ribbon è´Ÿè½½å‡è¡¡")]),a("ul",[a("li",[a("a",{attrs:{href:"#_4-1-åŸç†åˆ†æ"}},[s._v("4.1 åŸç†åˆ†æ")])]),a("li",[a("a",{attrs:{href:"#_4-2-è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[s._v("4.2 è´Ÿè½½å‡è¡¡ç­–ç•¥")])]),a("li",[a("a",{attrs:{href:"#_4-3-é¥¥é¥¿åŠ è½½"}},[s._v("4.3 é¥¥é¥¿åŠ è½½")])])])]),a("li",[a("a",{attrs:{href:"#_5-nacos-æ³¨å†Œä¸­å¿ƒ"}},[s._v("5. Nacos æ³¨å†Œä¸­å¿ƒ")]),a("ul",[a("li",[a("a",{attrs:{href:"#_5-1-æœåŠ¡æ³¨å†Œåˆ°-nacos"}},[s._v("5.1 æœåŠ¡æ³¨å†Œåˆ° nacos")])]),a("li",[a("a",{attrs:{href:"#_5-2-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹"}},[s._v("5.2 æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹")])]),a("li",[a("a",{attrs:{href:"#_5-3-æƒé‡é…ç½®"}},[s._v("5.3 æƒé‡é…ç½®")])]),a("li",[a("a",{attrs:{href:"#_5-4-ç¯å¢ƒéš”ç¦»"}},[s._v("5.4 ç¯å¢ƒéš”ç¦»")])]),a("li",[a("a",{attrs:{href:"#_5-5-nacos-ä¸-eureka-çš„åŒºåˆ«"}},[s._v("5.5 Nacos ä¸ Eureka çš„åŒºåˆ«")])])])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"_1-è®¤è¯†å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-è®¤è¯†å¾®æœåŠ¡"}},[s._v("#")]),s._v(" 1. è®¤è¯†å¾®æœåŠ¡")]),s._v(" "),a("h3",{attrs:{id:"_1-1-å•ä½“æ¶æ„ä¸åˆ†å¸ƒå¼æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-å•ä½“æ¶æ„ä¸åˆ†å¸ƒå¼æ¶æ„"}},[s._v("#")]),s._v(" 1.1 å•ä½“æ¶æ„ä¸åˆ†å¸ƒå¼æ¶æ„")]),s._v(" "),a("p",[a("strong",[s._v("å•ä½“æ¶æ„")]),s._v("ï¼šå°†ä¸šåŠ¡çš„æ‰€æœ‰åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å¼€å‘ï¼Œæ‰“æˆä¸€ä¸ªåŒ…éƒ¨ç½²ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œéƒ¨ç½²æˆæœ¬ä½")]),s._v(" "),a("li",[s._v("ç¼ºç‚¹ï¼šè€¦åˆåº¦é«˜ï¼ˆç»´æŠ¤å›°éš¾ã€å‡çº§å›°éš¾ï¼‰")])]),s._v(" "),a("p",[a("strong",[s._v("åˆ†å¸ƒå¼æ¶æ„")]),s._v("ï¼šæ ¹æ®ä¸šåŠ¡åŠŸèƒ½å¯¹ç³»ç»Ÿåšæ‹†åˆ†ï¼Œæ¯ä¸ªä¸šåŠ¡åŠŸèƒ½æ¨¡å—ä½œä¸ºç‹¬ç«‹é¡¹ç›®å¼€å‘ï¼Œç§°ä¸ºä¸€ä¸ªæœåŠ¡ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("ä¼˜ç‚¹ï¼šé™ä½æœåŠ¡è€¦åˆï¼Œæœ‰åˆ©äºæœåŠ¡å‡çº§å’Œæ‹“å±•")]),s._v(" "),a("li",[s._v("ç¼ºç‚¹ï¼šæœåŠ¡è°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚")])]),s._v(" "),a("p",[s._v("åˆ†å¸ƒå¼æ¶æ„è™½ç„¶é™ä½äº†æœåŠ¡è€¦åˆï¼Œä½†æ˜¯æœåŠ¡æ‹†åˆ†æ—¶ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜éœ€è¦æ€è€ƒï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æœåŠ¡æ‹†åˆ†çš„ç²’åº¦å¦‚ä½•ç•Œå®šï¼Ÿ")]),s._v(" "),a("li",[s._v("æœåŠ¡ä¹‹é—´å¦‚ä½•è°ƒç”¨ï¼Ÿ")]),s._v(" "),a("li",[s._v("æœåŠ¡çš„è°ƒç”¨å…³ç³»å¦‚ä½•ç®¡ç†ï¼Ÿ")])]),s._v(" "),a("h3",{attrs:{id:"_1-2-å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-å¾®æœåŠ¡"}},[s._v("#")]),s._v(" 1.2 å¾®æœåŠ¡")]),s._v(" "),a("p",[s._v("å¾®æœåŠ¡çš„æ¶æ„ç‰¹å¾ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å•ä¸€èŒè´£ï¼šå¾®æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´å°ï¼Œæ¯ä¸€ä¸ªæœåŠ¡éƒ½å¯¹åº”å”¯ä¸€çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšåˆ°å•ä¸€èŒè´£")]),s._v(" "),a("li",[s._v("è‡ªæ²»ï¼šå›¢é˜Ÿç‹¬ç«‹ã€æŠ€æœ¯ç‹¬ç«‹ã€æ•°æ®ç‹¬ç«‹ï¼Œç‹¬ç«‹éƒ¨ç½²å’Œäº¤ä»˜")]),s._v(" "),a("li",[s._v("é¢å‘æœåŠ¡ï¼šæœåŠ¡æä¾›ç»Ÿä¸€æ ‡å‡†çš„æ¥å£ï¼Œä¸è¯­è¨€å’ŒæŠ€æœ¯æ— å…³")]),s._v(" "),a("li",[s._v("éš”ç¦»æ€§å¼ºï¼šæœåŠ¡è°ƒç”¨åšå¥½éš”ç¦»ã€å®¹é”™ã€é™çº§ï¼Œé¿å…å‡ºç°çº§è”é—®é¢˜")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220305200314698.png",alt:"image-20220305200314698"}})]),s._v(" "),a("p",[s._v("å¯ä»¥è®¤ä¸º"),a("strong",[s._v("å¾®æœåŠ¡")]),s._v("æ˜¯ä¸€ç§ç»è¿‡è‰¯å¥½æ¶æ„è®¾è®¡çš„"),a("strong",[s._v("åˆ†å¸ƒå¼æ¶æ„æ–¹æ¡ˆ")]),s._v(" ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-3-spring-cloud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-spring-cloud"}},[s._v("#")]),s._v(" 1.3 Spring Cloud")]),s._v(" "),a("p",[s._v("Spring Cloud é›†æˆäº†å„ç§å¾®æœåŠ¡åŠŸèƒ½ç»„ä»¶ï¼Œå¹¶åŸºäº Spring Boot å®ç°äº†è¿™äº›ç»„ä»¶çš„è‡ªåŠ¨è£…é…ï¼Œä»è€Œæä¾›äº†è‰¯å¥½çš„å¼€ç®±å³ç”¨ä½“éªŒã€‚å¸¸è§çš„ç»„ä»¶å¦‚ä¸‹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713204155887.png",alt:"image-20210713204155887"}})]),s._v(" "),a("p",[s._v("æˆ‘ä»¬æ‰€å­¦çš„ç‰ˆæœ¬æ˜¯ Spring Cloud Hoxton.SR10ï¼Œå¯¹åº”çš„ Spring Boot ç‰ˆæœ¬æ˜¯2.3.xç‰ˆæœ¬ã€‚")]),s._v(" "),a("p",[s._v("å¾®æœåŠ¡æŠ€æœ¯å¯¹æ¯”ï¼š")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}}),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("Dubbo")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud Alibaba")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("æ³¨å†Œä¸­å¿ƒ")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("zookeeperã€Redis")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Eurekaã€Consul")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Nacosã€Eureka")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("æœåŠ¡è¿œç¨‹è°ƒç”¨")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Dubboåè®®")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Feignï¼ˆhttpåè®®ï¼‰")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Dubboã€Feign")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("é…ç½®ä¸­å¿ƒ")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("æ— ")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud Config")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud Configã€Nacos")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("æœåŠ¡ç½‘å…³")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("æ— ")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud Gatewayã€Zuul")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Spring Cloud Gatewayã€Zuul")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("æœåŠ¡ç›‘æ§å’Œä¿æŠ¤")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("dubbo-adminï¼ŒåŠŸèƒ½å¼±")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Hystix")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Sentinel")])])])]),s._v(" "),a("p",[s._v("ä¼ä¸šå¸¸è§åº”ç”¨æƒ…å†µï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220305201206613.png",alt:"image-20220305201206613"}})]),s._v(" "),a("h2",{attrs:{id:"_2-æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨"}},[s._v("#")]),s._v(" 2. æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨")]),s._v(" "),a("h3",{attrs:{id:"_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™"}},[s._v("#")]),s._v(" 2.1 æœåŠ¡æ‹†åˆ†åŸåˆ™")]),s._v(" "),a("ul",[a("li",[s._v("ä¸åŒå¾®æœåŠ¡ï¼Œä¸è¦é‡å¤å¼€å‘ç›¸åŒä¸šåŠ¡")]),s._v(" "),a("li",[s._v("å¾®æœåŠ¡æ•°æ®ç‹¬ç«‹ï¼Œä¸è¦è®¿é—®å…¶å®ƒå¾®æœåŠ¡çš„æ•°æ®åº“")]),s._v(" "),a("li",[s._v("å¾®æœåŠ¡å¯ä»¥å°†è‡ªå·±çš„ä¸šåŠ¡æš´éœ²ä¸ºæ¥å£ï¼Œä¾›å…¶å®ƒå¾®æœåŠ¡è°ƒç”¨")])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713210800950.png",alt:"image-20210713210800950"}}),s._v(" "),a("h3",{attrs:{id:"_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹"}},[s._v("#")]),s._v(" 2.2 æœåŠ¡æ‹†åˆ†ç¤ºä¾‹")]),s._v(" "),a("p",[s._v("æœ‰ä¸€ä¸ª cloud-demo å·¥ç¨‹ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªå¾®æœåŠ¡ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("order-serviceï¼šè®¢å•å¾®æœåŠ¡ï¼Œè´Ÿè´£è®¢å•ç›¸å…³ä¸šåŠ¡")]),s._v(" "),a("li",[s._v("user-serviceï¼šç”¨æˆ·å¾®æœåŠ¡ï¼Œè´Ÿè´£ç”¨æˆ·ç›¸å…³ä¸šåŠ¡")])]),s._v(" "),a("p",[s._v("è¦æ±‚ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("è®¢å•å¾®æœåŠ¡å’Œç”¨æˆ·å¾®æœåŠ¡"),a("strong",[s._v("éƒ½å¿…é¡»æœ‰å„è‡ªçš„æ•°æ®åº“")]),s._v("ï¼Œç›¸äº’ç‹¬ç«‹")]),s._v(" "),a("li",[s._v("è®¢å•æœåŠ¡å’Œç”¨æˆ·æœåŠ¡"),a("strong",[s._v("éƒ½å¯¹å¤–æš´éœ² Restful çš„æ¥å£")])]),s._v(" "),a("li",[s._v("è®¢å•æœåŠ¡å¦‚æœéœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œåªèƒ½è°ƒç”¨ç”¨æˆ·æœåŠ¡çš„ Restful æ¥å£ï¼Œä¸èƒ½æŸ¥è¯¢ç”¨æˆ·æ•°æ®åº“")])]),s._v(" "),a("p",[s._v("é¡¹ç›®ç»“æ„ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220305202451471.png",alt:"image-20220305202451471"}}),s._v(" "),a("blockquote",[a("p",[s._v("ç”¨ IDEA æ‰“å¼€åï¼Œå¯ä»¥åœ¨ Services ä¸€æ ä¸­çœ‹åˆ°æ‰€æœ‰çš„å¾®æœåŠ¡ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220305203644409.png",alt:"image-20220305203644409"}})]),s._v(" "),a("h3",{attrs:{id:"_2-3-è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹"}},[s._v("#")]),s._v(" 2.3 è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹")]),s._v(" "),a("p",[s._v("åœ¨ order-service æœåŠ¡ä¸­ï¼Œæœ‰ä¸€ä¸ªæ ¹æ® id æŸ¥è¯¢è®¢å•çš„æ¥å£ï¼Œåœ¨ user-service ä¸­æœ‰ä¸€ä¸ªæ ¹æ® id æŸ¥è¯¢ç”¨æˆ·çš„æ¥å£ã€‚ç°åœ¨æˆ‘ä»¬æƒ³ä¿®æ”¹ order-service ä¸­çš„æ ¹æ® id æŸ¥è¯¢è®¢å•ä¸šåŠ¡ï¼Œè¦æ±‚åœ¨æŸ¥è¯¢è®¢å•çš„åŒæ—¶ï¼Œæ ¹æ®è®¢å•ä¸­åŒ…å«çš„ userId æŸ¥è¯¢å‡ºç”¨æˆ·ä¿¡æ¯ï¼Œä¸€èµ·è¿”å›ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713213312278.png",alt:"image-20210713213312278"}})]),s._v(" "),a("p",[s._v("å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ order-service ä¸­ï¼Œå‘ user-service å‘èµ·ä¸€ä¸ª http çš„è¯·æ±‚ï¼Œè°ƒç”¨"),a("code",[s._v("http://localhost:8081/user/{userId}")]),s._v("è¿™ä¸ªæ¥å£ã€‚å¤§è‡´æ­¥éª¤ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ³¨å†Œä¸€ä¸ª RestTemplate çš„å®ä¾‹åˆ° Spring å®¹å™¨")]),s._v(" "),a("li",[s._v("ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ï¼Œæ ¹æ®Orderå¯¹è±¡ä¸­çš„ userId æŸ¥è¯¢ User")]),s._v(" "),a("li",[s._v("å°†æŸ¥è¯¢çš„ User å¡«å……åˆ° Order å¯¹è±¡ï¼Œä¸€èµ·è¿”å›")])]),s._v(" "),a("h4",{attrs:{id:"_1-æ³¨å†Œ-resttemplate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨å†Œ-resttemplate"}},[s._v("#")]),s._v(" 1ï¼‰æ³¨å†Œ RestTemplate")]),s._v(" "),a("p",[s._v("æ³¨å…¥ä¸€ä¸ª RestTemplate çš„ Beanï¼š")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("restTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"_2-å®ç°è¿œç¨‹è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®ç°è¿œç¨‹è°ƒç”¨"}},[s._v("#")]),s._v(" 2ï¼‰å®ç°è¿œç¨‹è°ƒç”¨")]),s._v(" "),a("p",[s._v("ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ï¼š")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Service")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderService")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderMapper")]),s._v(" orderMapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" restTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryOrderById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" orderId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1.æŸ¥è¯¢è®¢å•")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),s._v(" order "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" orderMapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.åˆ©ç”¨RestTemplateå‘èµ·httpè¯·æ±‚ï¼ŒæŸ¥è¯¢ç”¨æˆ·")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.1.urlè·¯å¾„")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:8081/user/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.2.å‘é€httpè¯·æ±‚ï¼Œå®ç°è¿œç¨‹è°ƒç”¨")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" restTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getForObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3.å°è£…useråˆ°Order")]),s._v("\n        order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4.è¿”å›")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h3",{attrs:{id:"_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…"}},[s._v("#")]),s._v(" 2.4 æä¾›è€…ä¸æ¶ˆè´¹è€…")]),s._v(" "),a("p",[a("strong",[s._v("æœåŠ¡æä¾›è€…")]),s._v("ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè¢«å…¶å®ƒå¾®æœåŠ¡è°ƒç”¨çš„æœåŠ¡ã€‚ï¼ˆæä¾›æ¥å£ç»™å…¶å®ƒå¾®æœåŠ¡ï¼‰")]),s._v(" "),a("p",[a("strong",[s._v("æœåŠ¡æ¶ˆè´¹è€…")]),s._v("ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè°ƒç”¨å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡ã€‚ï¼ˆè°ƒç”¨å…¶å®ƒå¾®æœåŠ¡æä¾›çš„æ¥å£ï¼‰")]),s._v(" "),a("p",[s._v("æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…çš„"),a("strong",[s._v("è§’è‰²å¹¶ä¸æ˜¯ç»å¯¹çš„")]),s._v("ï¼Œè€Œæ˜¯ç›¸å¯¹äºä¸šåŠ¡è€Œè¨€ã€‚ä¸€ä¸ªæœåŠ¡æ—¢å¯ä»¥æ˜¯æä¾›è€…ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¶ˆè´¹è€…ã€‚")]),s._v(" "),a("h2",{attrs:{id:"_3-eureka-æ³¨å†Œä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-eureka-æ³¨å†Œä¸­å¿ƒ"}},[s._v("#")]),s._v(" 3. Eureka æ³¨å†Œä¸­å¿ƒ")]),s._v(" "),a("h3",{attrs:{id:"_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨"}},[s._v("#")]),s._v(" 3.1 Eureka çš„ç»“æ„å’Œä½œç”¨")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713220104956.png",alt:"image-20210713220104956"}})]),s._v(" "),a("p",[s._v("ğŸ–Š "),a("strong",[s._v("é—®é¢˜ 1")]),s._v("ï¼šorder-service å¦‚ä½•å¾—çŸ¥ user-service å®ä¾‹åœ°å€ï¼Ÿ")]),s._v(" "),a("ul",[a("li",[s._v("user-service æœåŠ¡å®ä¾‹å¯åŠ¨åï¼Œå°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ° eureka-serverï¼ˆEurekaæœåŠ¡ç«¯ï¼‰ï¼Œè¿™ä¸ªå«"),a("strong",[s._v("æœåŠ¡æ³¨å†Œ")]),s._v("ã€‚")]),s._v(" "),a("li",[s._v("eureka-server ä¿å­˜"),a("strong",[s._v("æœåŠ¡åç§°åˆ°æœåŠ¡å®ä¾‹åœ°å€")]),s._v("åˆ—è¡¨çš„æ˜ å°„å…³ç³»")]),s._v(" "),a("li",[s._v("order-service æ ¹æ®æœåŠ¡åç§°ï¼Œæ‹‰å–å®ä¾‹åœ°å€åˆ—è¡¨ã€‚è¿™ä¸ªå«"),a("strong",[s._v("æœåŠ¡å‘ç°")]),s._v("æˆ–æœåŠ¡æ‹‰å–ã€‚")])]),s._v(" "),a("p",[s._v("ğŸ–Š "),a("strong",[s._v("é—®é¢˜ 2")]),s._v("ï¼šorder-service å¦‚ä½•ä»å¤šä¸ª user-service å®ä¾‹ä¸­é€‰æ‹©å…·ä½“çš„å®ä¾‹ï¼Ÿ")]),s._v(" "),a("ul",[a("li",[s._v("æœåŠ¡æ¶ˆè´¹è€…åˆ©ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä»æœåŠ¡åˆ—è¡¨ä¸­æŒ‘é€‰ä¸€ä¸ª")])]),s._v(" "),a("p",[s._v("ğŸ–Š "),a("strong",[s._v("é—®é¢˜ 3")]),s._v("ï¼šorder-service å¦‚ä½•å¾—çŸ¥æŸä¸ª user-service å®ä¾‹æ˜¯å¦ä¾ç„¶å¥åº·ï¼Œæ˜¯ä¸æ˜¯å·²ç»å®•æœºï¼Ÿ")]),s._v(" "),a("ul",[a("li",[s._v("user-service ä¼šæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆé»˜è®¤30ç§’ï¼‰å‘ eureka-server å‘èµ·è¯·æ±‚ï¼ŒæŠ¥å‘Šè‡ªå·±çŠ¶æ€ï¼Œç§°ä¸º"),a("strong",[s._v("å¿ƒè·³")])]),s._v(" "),a("li",[s._v("å½“è¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰å‘é€å¿ƒè·³æ—¶ï¼Œeureka-server ä¼šè®¤ä¸ºå¾®æœåŠ¡å®ä¾‹æ•…éšœï¼Œå°†è¯¥å®ä¾‹ä»æœåŠ¡åˆ—è¡¨ä¸­å‰”é™¤")]),s._v(" "),a("li",[s._v("order-service æ‹‰å–æœåŠ¡æ—¶ï¼Œå°±èƒ½å°†æ•…éšœå®ä¾‹æ’é™¤äº†")])]),s._v(" "),a("h3",{attrs:{id:"_3-2-æ­å»º-eureka-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æ­å»º-eureka-server"}},[s._v("#")]),s._v(" 3.2 æ­å»º Eureka Server")]),s._v(" "),a("p",[s._v("é¦–å…ˆå¤§å®¶æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯ï¼šeureka-serverï¼Œè¿™å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-åˆ›å»º-eureka-server-æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ›å»º-eureka-server-æœåŠ¡"}},[s._v("#")]),s._v(" 1ï¼‰åˆ›å»º eureka-server æœåŠ¡")]),s._v(" "),a("p",[s._v("åœ¨ cloud-demo çˆ¶å·¥ç¨‹ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå­æ¨¡å—å¹¶å¡«å†™ç›¸å…³ä¿¡æ¯ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713220605881.png",alt:"image-20210713220605881"}})]),s._v(" "),a("p",[s._v("è¯¥æœåŠ¡å¯ä»¥å‘½åä¸º "),a("code",[s._v("eureka-server")]),s._v("ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_2-å¼•å…¥-eureka-ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¼•å…¥-eureka-ä¾èµ–"}},[s._v("#")]),s._v(" 2ï¼‰å¼•å…¥ Eureka ä¾èµ–")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-netflix-eureka-server"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3-ç¼–å†™å¯åŠ¨ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç¼–å†™å¯åŠ¨ç±»"}},[s._v("#")]),s._v(" 3ï¼‰ç¼–å†™å¯åŠ¨ç±»")]),s._v(" "),a("p",[s._v("ç»™ eureka-server æœåŠ¡ç¼–å†™ä¸€ä¸ªå¯åŠ¨ç±»ï¼Œä¸€å®šè¦æ·»åŠ ä¸€ä¸ª "),a("strong",[s._v("@EnableEurekaServer")]),s._v(" æ³¨è§£ï¼Œå¼€å¯ eureka çš„æ³¨å†Œä¸­å¿ƒåŠŸèƒ½ï¼š")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itcast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eureka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("autoconfigure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBootApplication")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("netflix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eureka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableEurekaServer")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableEurekaServer")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EurekaApplication")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EurekaApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"_4-ç¼–å†™é…ç½®æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç¼–å†™é…ç½®æ–‡ä»¶"}},[s._v("#")]),s._v(" 4ï¼‰ç¼–å†™é…ç½®æ–‡ä»¶")]),s._v(" "),a("p",[s._v("ç¼–å†™ä¸€ä¸ª application.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10086")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" eureka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eureka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("client")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("service-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("defaultZone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("10086/eureka\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("Eureka ç”±äºè‡ªå·±æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ‰€æœ‰è‡ªå·±ä¹Ÿä¼šå°†è‡ªå·±æ³¨å†Œè¿›å»ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_5-å¯åŠ¨æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-å¯åŠ¨æœåŠ¡"}},[s._v("#")]),s._v(" 5ï¼‰å¯åŠ¨æœåŠ¡")]),s._v(" "),a("p",[s._v("å¯åŠ¨å¾®æœåŠ¡ï¼Œç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼š"),a("code",[s._v("http://127.0.0.1:10086")])]),s._v(" "),a("p",[s._v("çœ‹åˆ°ä¸‹é¢ç»“æœåº”è¯¥æ˜¯æˆåŠŸäº†ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713222157190.png",alt:"image-20210713222157190"}}),s._v(" "),a("h3",{attrs:{id:"_3-3-æœåŠ¡æ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-æœåŠ¡æ³¨å†Œ"}},[s._v("#")]),s._v(" 3.3 æœåŠ¡æ³¨å†Œ")]),s._v(" "),a("p",[s._v("ä¸‹é¢ï¼Œæˆ‘ä»¬å°† user-service æ³¨å†Œåˆ° eureka-server ä¸­å»ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-å¼•å…¥ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼•å…¥ä¾èµ–"}},[s._v("#")]),s._v(" 1ï¼‰å¼•å…¥ä¾èµ–")]),s._v(" "),a("p",[s._v("åœ¨ user-service çš„pomæ–‡ä»¶ä¸­ï¼Œå¼•å…¥ä¸‹é¢çš„ eureka-client ä¾èµ–ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-netflix-eureka-client"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("æ³¨æ„åˆšåˆšçš„æ˜¯ Eureka server ç«¯ï¼Œç°åœ¨çš„æ˜¯ client ç«¯ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_2-é…ç½®æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é…ç½®æ–‡ä»¶"}},[s._v("#")]),s._v(" 2ï¼‰é…ç½®æ–‡ä»¶")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" userservice  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¯¥æœåŠ¡çš„åç§°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eureka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("client")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("service-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Eureka çš„åœ°å€ä¿¡æ¯")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("defaultZone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("10086/eureka\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("åˆ°æ­¤ï¼Œè¯¥æœåŠ¡å°±è¢«æ³¨å†Œè¿› Eureka ä¸­äº†ã€‚å…¶ä»–æœåŠ¡çš„é…ç½®ä¹Ÿç±»ä¼¼ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_3-å¯åŠ¨å¤šä¸ª-user-service-å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¯åŠ¨å¤šä¸ª-user-service-å®ä¾‹"}},[s._v("#")]),s._v(" 3ï¼‰å¯åŠ¨å¤šä¸ª user-service å®ä¾‹")]),s._v(" "),a("p",[s._v("ä¸ºäº†æ¼”ç¤ºä¸€ä¸ªæœåŠ¡æœ‰å¤šä¸ªå®ä¾‹çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª Spring Boot çš„å¯åŠ¨é…ç½®ï¼Œå†å¯åŠ¨ä¸€ä¸ª user-serviceã€‚")]),s._v(" "),a("p",[s._v("é¦–å…ˆï¼Œå¤åˆ¶åŸæ¥çš„ user-service å¯åŠ¨é…ç½®ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713222656562.png",alt:"image-20210713222656562"}}),s._v(" "),a("p",[s._v("ç„¶åï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œå¡«å†™ä¿¡æ¯ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713222757702.png",alt:"image-20210713222757702"}}),s._v(" "),a("p",[s._v("ç°åœ¨ï¼ŒSpring Boot çª—å£ä¼šå‡ºç°ä¸¤ä¸ª user-service å¯åŠ¨é…ç½®ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713222841951.png",alt:"image-20210713222841951"}}),s._v(" "),a("p",[s._v("ä¸è¿‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯ 8081 ç«¯å£ï¼Œç¬¬äºŒä¸ªæ˜¯ 8082 ç«¯å£ã€‚")]),s._v(" "),a("p",[s._v("å¯åŠ¨ä¸¤ä¸ª user-service å®ä¾‹ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713223041491.png",alt:"image-20210713223041491"}}),s._v(" "),a("p",[s._v("æŸ¥çœ‹ eureka-server ç®¡ç†é¡µé¢ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713223150650.png",alt:"image-20210713223150650"}})]),s._v(" "),a("h3",{attrs:{id:"_3-4-æœåŠ¡å‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-æœåŠ¡å‘ç°"}},[s._v("#")]),s._v(" 3.4 æœåŠ¡å‘ç°")]),s._v(" "),a("p",[s._v("æœ€åï¼Œæˆ‘ä»¬è¦å» eureka-server ä¸­æ‹‰å– user-service æœåŠ¡çš„å®ä¾‹åˆ—è¡¨ï¼Œå¹¶ä¸”å®ç°è´Ÿè½½å‡è¡¡ã€‚ä¸è¿‡è¿™äº›åŠ¨ä½œä¸ç”¨æˆ‘ä»¬å»åšï¼Œ"),a("u",[s._v("åªéœ€è¦æ·»åŠ ä¸€äº›æ³¨è§£å³å¯")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ order-service çš„ OrderApplication ä¸­ï¼Œç»™ RestTemplate è¿™ä¸ª Bean æ·»åŠ ä¸€ä¸ª "),a("strong",[s._v("@LoadBalanced")]),s._v(" æ³¨è§£ï¼š")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@MapperScan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn.itcast.order.mapper"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderApplication")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * åˆ›å»ºRestTemplateå¹¶æ³¨å…¥Springå®¹å™¨\n     */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@LoadBalanced")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("restTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ cn.itcast.order.service åŒ…ä¸‹çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ã€‚ä¿®æ”¹è®¿é—®çš„ url è·¯å¾„ï¼Œ"),a("strong",[s._v("ç”¨æœåŠ¡åä»£æ›¿ ip å’Œç«¯å£")]),s._v("ï¼š")]),s._v(" "),a("div",{staticClass:"language-diff line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[s._v("@Service\npublic class OrderService {\n\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   @Autowired\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   private OrderMapper orderMapper;\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   @Autowired\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   private RestTemplate restTemplate;\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   public Order queryOrderById(Long orderId) {\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 1.æŸ¥è¯¢è®¢å•\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       Order order = orderMapper.findById(orderId);\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 2.åˆ©ç”¨RestTemplateå‘èµ·httpè¯·æ±‚ï¼ŒæŸ¥è¯¢ç”¨æˆ·\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 2.1.url è·¯å¾„\n")])]),a("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[a("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('        String url = "http://localhost:8081/user/" + order.getUserId();\n')])]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('        String url = "http://userservice/user/" + order.getUserId();\n')])]),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 2.2.å‘é€httpè¯·æ±‚ï¼Œå®ç°è¿œç¨‹è°ƒç”¨\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       User user = restTemplate.getForObject(url, User.class);\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 3.å°è£…useråˆ°Order\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       order.setUser(user);\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       // 4.è¿”å›\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("       return order;\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   }\n")])]),s._v("}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("ul",[a("li",[s._v("æ³¨æ„è¯·æ±‚çš„ URL çš„å˜åŒ–ï¼Œ"),a("strong",[s._v("ç”¨æœåŠ¡åä»£æ›¿ ip å’Œç«¯å£")]),s._v("ï¼Œè¿™ä¸ªæœåŠ¡åå°±æ˜¯æ³¨å†Œå…¥ Eureka ä¸­çš„ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("Spring ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ä» eureka-server ç«¯ï¼Œæ ¹æ® userservice è¿™ä¸ªæœåŠ¡åç§°ï¼Œè·å–å®ä¾‹åˆ—è¡¨ï¼Œè€Œåå®Œæˆè´Ÿè½½å‡è¡¡")]),s._v("ã€‚")]),s._v(" "),a("h2",{attrs:{id:"_4-ribbon-è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ribbon-è´Ÿè½½å‡è¡¡"}},[s._v("#")]),s._v(" 4. Ribbon è´Ÿè½½å‡è¡¡")]),s._v(" "),a("p",[s._v("Spring Cloud åº•å±‚å…¶å®æ˜¯åˆ©ç”¨äº†ä¸€ä¸ªåä¸º Ribbon çš„ç»„ä»¶ï¼Œæ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„ã€‚è´Ÿè½½å‡è¡¡çš„æµç¨‹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713224517686.png",alt:"image-20210713224517686"}})]),s._v(" "),a("h3",{attrs:{id:"_4-1-åŸç†åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-åŸç†åˆ†æ"}},[s._v("#")]),s._v(" 4.1 åŸç†åˆ†æ")]),s._v(" "),a("p",[s._v("åˆ†ææºç åï¼Œå¯ä»¥çœ‹åˆ° Ribbon çš„åº•å±‚é‡‡ç”¨äº†ä¸€ä¸ª"),a("strong",[s._v("æ‹¦æˆªå™¨")]),s._v("ï¼Œæ‹¦æˆªäº† RestTemplate å‘å‡ºçš„è¯·æ±‚ï¼Œå¯¹åœ°å€åšäº†ä¿®æ”¹ã€‚ç”¨ä¸€å¹…å›¾æ¥æ€»ç»“ä¸€ä¸‹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713224724673.png",alt:"image-20210713224724673"}})]),s._v(" "),a("p",[s._v("åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ‹¦æˆªæˆ‘ä»¬çš„ RestTemplate è¯·æ±‚ "),a("code",[s._v("http://userservice/user/1")])]),s._v(" "),a("li",[s._v("RibbonLoadBalancerClient ä¼šä»è¯·æ±‚ url ä¸­è·å–æœåŠ¡åç§°ï¼Œä¹Ÿå°±æ˜¯ user-service")]),s._v(" "),a("li",[s._v("DynamicServerListLoadBalancer æ ¹æ® user-service åˆ° eureka æ‹‰å–æœåŠ¡åˆ—è¡¨")]),s._v(" "),a("li",[s._v("eureka è¿”å›åˆ—è¡¨ï¼Œlocalhost:8081ã€localhost:8082")]),s._v(" "),a("li",[s._v("IRule åˆ©ç”¨å†…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œä¾‹å¦‚ localhost:8081")]),s._v(" "),a("li",[s._v("RibbonLoadBalancerClient ä¿®æ”¹è¯·æ±‚åœ°å€ï¼Œç”¨ localhost:8081 æ›¿ä»£ userserviceï¼Œå¾—åˆ° "),a("code",[s._v("http://localhost:8081/user/1")]),s._v("ï¼Œå‘èµ·çœŸå®è¯·æ±‚")])]),s._v(" "),a("h3",{attrs:{id:"_4-2-è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[s._v("#")]),s._v(" 4.2 è´Ÿè½½å‡è¡¡ç­–ç•¥")]),s._v(" "),a("h4",{attrs:{id:"_4-2-1-è‡ªå¸¦çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-è‡ªå¸¦çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[s._v("#")]),s._v(" 4.2.1 è‡ªå¸¦çš„è´Ÿè½½å‡è¡¡ç­–ç•¥")]),s._v(" "),a("p",[s._v("è´Ÿè½½å‡è¡¡çš„è§„åˆ™éƒ½å®šä¹‰åœ¨ "),a("strong",[s._v("IRule æ¥å£")]),s._v("ä¸­ï¼Œè€Œ IRule æœ‰å¾ˆå¤šä¸åŒçš„å®ç°ç±»ï¼Œä»£è¡¨äº†ä¸åŒçš„è§„åˆ™ã€‚ä¸åŒè§„åˆ™çš„å«ä¹‰å¦‚ä¸‹ï¼š")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[a("strong",[s._v("å†…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ç±»")])]),s._v(" "),a("th",[a("strong",[s._v("è§„åˆ™æè¿°")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("RoundRobinRule")]),s._v(" "),a("td",[a("strong",[s._v("ç®€å•è½®è¯¢")]),s._v("æœåŠ¡åˆ—è¡¨æ¥é€‰æ‹©æœåŠ¡å™¨ã€‚å®ƒæ˜¯ Ribbon "),a("strong",[s._v("é»˜è®¤çš„")]),s._v("è´Ÿè½½å‡è¡¡è§„åˆ™ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("AvailabilityFilteringRule")]),s._v(" "),a("td",[s._v("å¯¹ä»¥ä¸‹ä¸¤ç§æœåŠ¡å™¨è¿›è¡Œå¿½ç•¥ï¼š   ï¼ˆ1ï¼‰åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å°æœåŠ¡å™¨å¦‚æœ3æ¬¡è¿æ¥å¤±è´¥ï¼Œè¿™å°æœåŠ¡å™¨å°±ä¼šè¢«è®¾ç½®ä¸ºâ€œçŸ­è·¯â€çŠ¶æ€ã€‚çŸ­è·¯çŠ¶æ€å°†æŒç»­30ç§’ï¼Œå¦‚æœå†æ¬¡è¿æ¥å¤±è´¥ï¼ŒçŸ­è·¯çš„æŒç»­æ—¶é—´å°±ä¼šå‡ ä½•çº§åœ°å¢åŠ ã€‚  ï¼ˆ2ï¼‰å¹¶å‘æ•°è¿‡é«˜çš„æœåŠ¡å™¨ã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨çš„å¹¶å‘è¿æ¥æ•°è¿‡é«˜ï¼Œé…ç½®äº†AvailabilityFilteringRuleè§„åˆ™çš„å®¢æˆ·ç«¯ä¹Ÿä¼šå°†å…¶å¿½ç•¥ã€‚å¹¶å‘è¿æ¥æ•°çš„ä¸Šé™ï¼Œå¯ä»¥ç”±å®¢æˆ·ç«¯çš„ "),a("code",[s._v("<clientName>.<clientConfigNameSpace>.ActiveConnectionsLimit")]),s._v(" å±æ€§è¿›è¡Œé…ç½®ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("WeightedResponseTimeRule")]),s._v(" "),a("td",[s._v("ä¸ºæ¯ä¸€ä¸ªæœåŠ¡å™¨èµ‹äºˆä¸€ä¸ª"),a("strong",[s._v("æƒé‡å€¼")]),s._v("ã€‚æœåŠ¡å™¨å“åº”æ—¶é—´è¶Šé•¿ï¼Œè¿™ä¸ªæœåŠ¡å™¨çš„æƒé‡å°±è¶Šå°ã€‚è¿™ä¸ªè§„åˆ™ä¼šéšæœºé€‰æ‹©æœåŠ¡å™¨ï¼Œè¿™ä¸ªæƒé‡å€¼ä¼šå½±å“æœåŠ¡å™¨çš„é€‰æ‹©ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ZoneAvoidanceRule")]),s._v(" "),a("td",[s._v("ä»¥åŒºåŸŸå¯ç”¨çš„æœåŠ¡å™¨ä¸ºåŸºç¡€è¿›è¡ŒæœåŠ¡å™¨çš„é€‰æ‹©ã€‚ä½¿ç”¨Zoneå¯¹æœåŠ¡å™¨è¿›è¡Œåˆ†ç±»ï¼Œè¿™ä¸ªZoneå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœºæˆ¿ã€ä¸€ä¸ªæœºæ¶ç­‰ã€‚è€Œåå†"),a("strong",[s._v("å¯¹ Zone å†…çš„å¤šä¸ªæœåŠ¡åšè½®è¯¢")]),s._v("ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("BestAvailableRule")]),s._v(" "),a("td",[s._v("å¿½ç•¥é‚£äº›çŸ­è·¯çš„æœåŠ¡å™¨ï¼Œå¹¶é€‰æ‹©å¹¶å‘æ•°è¾ƒä½çš„æœåŠ¡å™¨ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("RandomRule")]),s._v(" "),a("td",[a("strong",[s._v("éšæœº")]),s._v("é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„æœåŠ¡å™¨ã€‚")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("RetryRule")]),s._v(" "),a("td",[a("strong",[s._v("é‡è¯•")]),s._v("æœºåˆ¶çš„é€‰æ‹©é€»è¾‘")])])])]),s._v(" "),a("ul",[a("li",[s._v("æ­£å¸¸æƒ…å†µä¸‹ï¼Œ"),a("strong",[s._v("é‡‡ç”¨é»˜è®¤çš„ç­–ç•¥å³å¯")]),s._v("ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_4-2-2-è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[s._v("#")]),s._v(" 4.2.2 è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥")]),s._v(" "),a("p",[s._v("é€šè¿‡å®šä¹‰ IRule å®ç°å¯ä»¥ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š")]),s._v(" "),a("p",[s._v("ğŸ–Š "),a("strong",[s._v("æ–¹å¼1 â€”â€” ä»£ç æ–¹å¼")]),s._v("ï¼šåœ¨ order-service ä¸­çš„ OrderApplication ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæ–°çš„ IRuleï¼š")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IRule")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("randomRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RandomRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ğŸ–Š "),a("strong",[s._v("æ–¹å¼2 â€”â€” é…ç½®æ–‡ä»¶æ–¹å¼")]),s._v("ï¼šåœ¨ order-service çš„ application.yml æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æ–°çš„é…ç½®ä¹Ÿå¯ä»¥ä¿®æ”¹è§„åˆ™ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("userservice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç»™æŸä¸ªå¾®æœåŠ¡é…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ribbon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("NFLoadBalancerRuleClassName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.netflix.loadbalancer.RandomRule "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è´Ÿè½½å‡è¡¡è§„åˆ™ ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_4-3-é¥¥é¥¿åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-é¥¥é¥¿åŠ è½½"}},[s._v("#")]),s._v(" 4.3 é¥¥é¥¿åŠ è½½")]),s._v(" "),a("p",[s._v("Ribbon é»˜è®¤æ˜¯é‡‡ç”¨"),a("strong",[s._v("æ‡’åŠ è½½")]),s._v("ï¼Œå³ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰ä¼šå»åˆ›å»º LoadBalanceClientï¼Œè¯·æ±‚æ—¶é—´ä¼šå¾ˆé•¿ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("è¿™å¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„â€œç½‘ç»œâ€ä¸­çœ‹åˆ°è¯·æ±‚æ—¶é—´ã€‚")])]),s._v(" "),a("p",[s._v("è€Œ"),a("strong",[s._v("é¥¥é¥¿åŠ è½½")]),s._v("åˆ™ä¼šåœ¨é¡¹ç›®å¯åŠ¨æ—¶åˆ›å»ºï¼Œé™ä½ç¬¬ä¸€æ¬¡è®¿é—®çš„è€—æ—¶ï¼Œé€šè¿‡ä¸‹é¢é…ç½®å¼€å¯é¥¥é¥¿åŠ è½½ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ribbon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eager-load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å¯é¥¥é¥¿åŠ è½½")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("clients")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" userservice  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šå¯¹å“ªä¸ªæœåŠ¡åšé¥¥é¥¿åŠ è½½")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("é¥¥é¥¿åŠ è½½ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯é¥¥ä¸æ‹©é£Ÿï¼Œåœ¨åˆ›å»ºä¹‹åˆå°±åŠ è½½èµ·æ¥äº†ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"_5-nacos-æ³¨å†Œä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-nacos-æ³¨å†Œä¸­å¿ƒ"}},[s._v("#")]),s._v(" 5. Nacos æ³¨å†Œä¸­å¿ƒ")]),s._v(" "),a("p",[s._v("Nacos æ˜¯ Spring Cloud Alibaba çš„ç»„ä»¶ï¼Œè€Œ Spring Cloud Alibaba ä¹Ÿéµå¾ª Spring Cloud ä¸­å®šä¹‰çš„æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°è§„èŒƒã€‚å› æ­¤ä½¿ç”¨ Nacos å’Œä½¿ç”¨ Eureka å¯¹äºå¾®æœåŠ¡æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("å…ˆå®‰è£…å•æœºç‰ˆ Nacos")])]),s._v(" "),a("h3",{attrs:{id:"_5-1-æœåŠ¡æ³¨å†Œåˆ°-nacos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-æœåŠ¡æ³¨å†Œåˆ°-nacos"}},[s._v("#")]),s._v(" 5.1 æœåŠ¡æ³¨å†Œåˆ° nacos")]),s._v(" "),a("p",[s._v("ä¸ Eureka ä¸»è¦å·®å¼‚åœ¨äºï¼šä¾èµ–ä¸åŒï¼ŒæœåŠ¡åœ°å€ä¸åŒã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-å¼•å…¥ä¾èµ–-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼•å…¥ä¾èµ–-2"}},[s._v("#")]),s._v(" 1ï¼‰å¼•å…¥ä¾èµ–")]),s._v(" "),a("p",[s._v("åœ¨cloud-demoçˆ¶å·¥ç¨‹çš„ pom æ–‡ä»¶ä¸­çš„ "),a("code",[s._v("<dependencyManagement>")]),s._v(" ä¸­å¼•å…¥ Spring Cloud Alibaba çš„ä¾èµ–ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("com.alibaba.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-alibaba-dependencies"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("2.2.6.RELEASE"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("pom"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("import"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ç„¶ååœ¨ user-service å’Œ order-service ä¸­çš„ pom æ–‡ä»¶ä¸­å¼•å…¥ nacos-discovery ä¾èµ–ï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("com.alibaba.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-alibaba-nacos-discovery"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("æ³¨æ„ä¸è¦å¿˜äº†æ³¨é‡Šæ‰ eureka çš„ä¾èµ–ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_2-é…ç½®-nacos-åœ°å€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é…ç½®-nacos-åœ°å€"}},[s._v("#")]),s._v(" 2ï¼‰é…ç½® nacos åœ°å€")]),s._v(" "),a("p",[s._v("åœ¨ user-service å’Œ order-service çš„ application.yml ä¸­æ·»åŠ  nacos åœ°å€ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("ä¸è¦å¿˜äº†æ³¨é‡Šæ‰eurekaçš„åœ°å€")])]),s._v(" "),a("h4",{attrs:{id:"_3-å¯åŠ¨å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¯åŠ¨å¾®æœåŠ¡"}},[s._v("#")]),s._v(" 3ï¼‰å¯åŠ¨å¾®æœåŠ¡")]),s._v(" "),a("p",[s._v("å¯åŠ¨å¾®æœåŠ¡åï¼Œç™»å½• nacos ç®¡ç†é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å¾®æœåŠ¡ä¿¡æ¯ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713231439607.png",alt:"image-20210713231439607"}})]),s._v(" "),a("h3",{attrs:{id:"_5-2-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹"}},[s._v("#")]),s._v(" 5.2 æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹")]),s._v(" "),a("p",[s._v("ä¸€ä¸ª"),a("strong",[s._v("æœåŠ¡")]),s._v("å¯ä»¥æœ‰å¤šä¸ª"),a("strong",[s._v("å®ä¾‹")]),s._v("ï¼ŒNacos å°±å°†åŒä¸€æœºæˆ¿å†…çš„å®ä¾‹åˆ’åˆ†ä¸ºä¸€ä¸ª"),a("strong",[s._v("é›†ç¾¤")]),s._v("ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œuser-service æ˜¯æœåŠ¡ï¼Œä¸€ä¸ªæœåŠ¡å¯ä»¥åŒ…å«å¤šä¸ªé›†ç¾¤ï¼Œå¦‚æ­å·ã€ä¸Šæµ·ï¼Œæ¯ä¸ªé›†ç¾¤ä¸‹å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œå½¢æˆåˆ†çº§æ¨¡å‹ï¼Œå¦‚å›¾ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713232522531.png",alt:"image-20210713232522531"}})]),s._v(" "),a("p",[s._v("å¾®æœåŠ¡äº’ç›¸è®¿é—®æ—¶ï¼Œ"),a("strong",[s._v("åº”è¯¥å°½å¯èƒ½è®¿é—®åŒé›†ç¾¤å®ä¾‹")]),s._v("ï¼Œå› ä¸ºæœ¬åœ°è®¿é—®é€Ÿåº¦æ›´å¿«ã€‚å½“æœ¬é›†ç¾¤å†…ä¸å¯ç”¨æ—¶ï¼Œæ‰è®¿é—®å…¶å®ƒé›†ç¾¤ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-2-1-ç»™-user-service-é…ç½®é›†ç¾¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-ç»™-user-service-é…ç½®é›†ç¾¤"}},[s._v("#")]),s._v(" 5.2.1 ç»™ user-service é…ç½®é›†ç¾¤")]),s._v(" "),a("p",[s._v("ä¿®æ”¹ user-service çš„ application.yml æ–‡ä»¶ï¼Œæ·»åŠ é›†ç¾¤é…ç½®ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HZ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†ç¾¤åç§°")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("ä¸åŒçš„å®ä¾‹ï¼Œåªéœ€è¦ä¿®æ”¹ cluster-name å±æ€§å³å¯ã€‚")]),s._v(" "),a("p",[s._v("å¯åŠ¨å¤šä¸ªå®ä¾‹åï¼Œåœ¨ nacos æ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713233727923.png",alt:"image-20210713233727923"}})]),s._v(" "),a("h4",{attrs:{id:"_5-2-2-åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡"}},[s._v("#")]),s._v(" 5.2.2 åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡")]),s._v(" "),a("p",[s._v("é»˜è®¤çš„ "),a("code",[s._v("ZoneAvoidanceRule")]),s._v(" å¹¶ä¸èƒ½å®ç°æ ¹æ®åŒé›†ç¾¤ä¼˜å…ˆæ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚å› æ­¤ Nacos ä¸­æä¾›äº†ä¸€ä¸ª "),a("code",[s._v("NacosRule")]),s._v(" çš„å®ç°ï¼Œå¯ä»¥ä¼˜å…ˆä»åŒé›†ç¾¤ä¸­æŒ‘é€‰å®ä¾‹ã€‚")]),s._v(" "),a("h5",{attrs:{id:"_1-ç»™-order-service-é…ç½®é›†ç¾¤ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç»™-order-service-é…ç½®é›†ç¾¤ä¿¡æ¯"}},[s._v("#")]),s._v(" 1ï¼‰ç»™ order-service é…ç½®é›†ç¾¤ä¿¡æ¯")]),s._v(" "),a("p",[s._v("ä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼Œæ·»åŠ é›†ç¾¤é…ç½®ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HZ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†ç¾¤åç§°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h5",{attrs:{id:"_2-ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™"}},[s._v("#")]),s._v(" 2ï¼‰ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™")]),s._v(" "),a("p",[s._v("ä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼Œä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("userservice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ribbon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("NFLoadBalancerRuleClassName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.alibaba.cloud.nacos.ribbon.NacosRule "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è´Ÿè½½å‡è¡¡è§„åˆ™ ")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("NacosRule")]),s._v(" è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("ä¼˜å…ˆé€‰æ‹©åŒé›†ç¾¤æœåŠ¡å®ä¾‹åˆ—è¡¨")]),s._v(" "),a("li",[s._v("æœ¬åœ°é›†ç¾¤æ‰¾ä¸åˆ°æä¾›è€…ï¼Œæ‰å»å…¶å®ƒé›†ç¾¤å¯»æ‰¾ï¼Œå¹¶ä¸”ä¼šæŠ¥è­¦å‘Š")]),s._v(" "),a("li",[s._v("ç¡®å®šäº†å¯ç”¨å®ä¾‹åˆ—è¡¨åï¼Œå†é‡‡ç”¨éšæœºè´Ÿè½½å‡è¡¡æŒ‘é€‰å®ä¾‹")])]),s._v(" "),a("h3",{attrs:{id:"_5-3-æƒé‡é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-æƒé‡é…ç½®"}},[s._v("#")]),s._v(" 5.3 æƒé‡é…ç½®")]),s._v(" "),a("p",[s._v("å®é™…éƒ¨ç½²ä¸­ä¼šå‡ºç°è¿™æ ·çš„åœºæ™¯ï¼šæœåŠ¡å™¨è®¾å¤‡æ€§èƒ½æœ‰å·®å¼‚ï¼Œéƒ¨åˆ†å®ä¾‹æ‰€åœ¨æœºå™¨æ€§èƒ½è¾ƒå¥½ï¼Œå¦ä¸€äº›è¾ƒå·®ï¼Œ"),a("strong",[s._v("æˆ‘ä»¬å¸Œæœ›æ€§èƒ½å¥½çš„æœºå™¨æ‰¿æ‹…æ›´å¤šçš„ç”¨æˆ·è¯·æ±‚")]),s._v("ã€‚ä½†é»˜è®¤æƒ…å†µä¸‹ NacosRule æ˜¯åŒé›†ç¾¤å†…éšæœºæŒ‘é€‰ï¼Œä¸ä¼šè€ƒè™‘æœºå™¨çš„æ€§èƒ½é—®é¢˜ã€‚å› æ­¤ï¼ŒNacos æä¾›äº†"),a("strong",[s._v("æƒé‡é…ç½®æ¥æ§åˆ¶è®¿é—®é¢‘ç‡")]),s._v("ï¼Œæƒé‡è¶Šå¤§åˆ™è®¿é—®é¢‘ç‡è¶Šé«˜ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ nacos æ§åˆ¶å°ï¼Œæ‰¾åˆ° user-service çš„å®ä¾‹åˆ—è¡¨ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œå³å¯ä¿®æ”¹æƒé‡ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713235133225.png",alt:"image-20210713235133225"}})]),s._v(" "),a("p",[s._v("åœ¨å¼¹å‡ºçš„ç¼–è¾‘çª—å£ï¼Œä¿®æ”¹æƒé‡ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210713235235219.png",alt:"image-20210713235235219"}}),s._v(" "),a("ul",[a("li",[s._v("å¦‚æœæƒé‡ä¿®æ”¹ä¸º 0ï¼Œåˆ™è¯¥å®ä¾‹æ°¸è¿œä¸ä¼šè¢«è®¿é—®ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_5-4-ç¯å¢ƒéš”ç¦»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-ç¯å¢ƒéš”ç¦»"}},[s._v("#")]),s._v(" 5.4 ç¯å¢ƒéš”ç¦»")]),s._v(" "),a("p",[s._v("Nacos ä¸­æœåŠ¡å­˜å‚¨å’Œæ•°æ®å­˜å‚¨çš„æœ€å¤–å±‚éƒ½æ˜¯ä¸€ä¸ªåä¸º "),a("strong",[s._v("namespace")]),s._v(" çš„ä¸œè¥¿ï¼Œç”¨æ¥åšæœ€å¤–å±‚çš„ç¯å¢ƒéš”ç¦»ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("nacos ä¸­å¯ä»¥æœ‰å¤šä¸ª namespace")]),s._v(" "),a("li",[s._v("namespace ä¸‹å¯ä»¥æœ‰ groupã€service ç­‰")]),s._v(" "),a("li",[s._v("ä¸åŒ namespace ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œä¾‹å¦‚ä¸åŒ namespace çš„æœåŠ¡äº’ç›¸ä¸å¯è§")])]),s._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210714000101516.png",alt:"image-20210714000101516"}}),s._v(" "),a("h4",{attrs:{id:"_5-4-1-åˆ›å»º-namespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-åˆ›å»º-namespace"}},[s._v("#")]),s._v(" 5.4.1 åˆ›å»º namespace")]),s._v(" "),a("p",[s._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ serviceã€dataã€group éƒ½åœ¨åŒä¸€ä¸ª namespaceï¼Œåä¸º publicï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210714000414781.png",alt:"image-20210714000414781"}}),s._v(" "),a("p",[s._v("åœ¨è¯¥é¡µé¢å¯ä»¥ç‚¹å‡»æ–°å¢æŒ‰é’®ï¼Œä»è€Œæ·»åŠ ä¸€ä¸ª namespaceï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220306142315482.png",alt:"image-20220306142315482"}})]),s._v(" "),a("ul",[a("li",[s._v("dev æ˜¯æ–°å¢åŠ çš„ namespace")])]),s._v(" "),a("h4",{attrs:{id:"_5-4-2-ç»™å¾®æœåŠ¡é…ç½®-namespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-2-ç»™å¾®æœåŠ¡é…ç½®-namespace"}},[s._v("#")]),s._v(" 5.4.2 ç»™å¾®æœåŠ¡é…ç½® namespace")]),s._v(" "),a("p",[s._v("ç»™å¾®æœåŠ¡é…ç½® namespace åªèƒ½é€šè¿‡ä¿®æ”¹é…ç½®æ¥å®ç°ã€‚")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ï¼Œä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HZ\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 492a7d5d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("237b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("46a1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a99a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("fa8e98e4b0f9 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‘½åç©ºé—´ï¼Œå¡«ID")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("é‡å¯ order-service åï¼Œè®¿é—®æ§åˆ¶å°ï¼Œå¯ä»¥åœ¨ dev çš„ namespace ä¸‹çœ‹åˆ°è¯¥æœåŠ¡å®ä¾‹ã€‚æ­¤æ—¶è®¿é—® order-serviceï¼Œå› ä¸º namespace ä¸åŒï¼Œä¼šå¯¼è‡´æ‰¾ä¸åˆ°å¤„äºå…¶ä»–å‘½åç©ºé—´çš„ user-serviceï¼Œæ§åˆ¶å°ä¼šæŠ¥é”™ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210714000941256.png",alt:"image-20210714000941256"}}),s._v(" "),a("h3",{attrs:{id:"_5-5-nacos-ä¸-eureka-çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-nacos-ä¸-eureka-çš„åŒºåˆ«"}},[s._v("#")]),s._v(" 5.5 Nacos ä¸ Eureka çš„åŒºåˆ«")]),s._v(" "),a("p",[s._v("Nacos çš„æœåŠ¡å®ä¾‹åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("ä¸´æ—¶å®ä¾‹ï¼šå¦‚æœå®ä¾‹å®•æœºè¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œä¼šä»æœåŠ¡åˆ—è¡¨å‰”é™¤ï¼Œé»˜è®¤çš„ç±»å‹ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("éä¸´æ—¶å®ä¾‹ï¼šå¦‚æœå®ä¾‹å®•æœºï¼Œä¸ä¼šä»æœåŠ¡åˆ—è¡¨å‰”é™¤ï¼Œä¹Ÿå¯ä»¥å«æ°¸ä¹…å®ä¾‹ã€‚")])])]),s._v(" "),a("p",[s._v("é…ç½®ä¸€ä¸ªæœåŠ¡å®ä¾‹ä¸ºæ°¸ä¹…å®ä¾‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("discovery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ephemeral")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®ä¸ºéä¸´æ—¶å®ä¾‹")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("Nacos å’Œ Eureka æ•´ä½“ç»“æ„ç±»ä¼¼ï¼ŒæœåŠ¡æ³¨å†Œã€æœåŠ¡æ‹‰å–ã€å¿ƒè·³ç­‰å¾…ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€äº›å·®å¼‚ï¼š")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20210714001728017.png",alt:"image-20210714001728017"}}),s._v(" "),a("ul",[a("li",[a("p",[s._v("Nacos ä¸ Eureka çš„å…±åŒç‚¹")]),s._v(" "),a("ul",[a("li",[s._v("éƒ½æ”¯æŒæœåŠ¡æ³¨å†Œå’ŒæœåŠ¡æ‹‰å–")]),s._v(" "),a("li",[s._v("éƒ½æ”¯æŒæœåŠ¡æä¾›è€…å¿ƒè·³æ–¹å¼åšå¥åº·æ£€æµ‹")])])]),s._v(" "),a("li",[a("p",[s._v("Nacos ä¸ Eureka çš„åŒºåˆ«")]),s._v(" "),a("ul",[a("li",[s._v("Nacos æ”¯æŒæœåŠ¡ç«¯ä¸»åŠ¨æ£€æµ‹æä¾›è€…çŠ¶æ€ï¼šä¸´æ—¶å®ä¾‹é‡‡ç”¨å¿ƒè·³æ¨¡å¼ï¼Œéä¸´æ—¶å®ä¾‹é‡‡ç”¨ä¸»åŠ¨æ£€æµ‹æ¨¡å¼")]),s._v(" "),a("li",[s._v("ä¸´æ—¶å®ä¾‹å¿ƒè·³ä¸æ­£å¸¸ä¼šè¢«å‰”é™¤ï¼Œéä¸´æ—¶å®ä¾‹åˆ™ä¸ä¼šè¢«å‰”é™¤ï¼Œåªæ˜¯æ˜¾ç¤ºä¸ºä¸å¥åº·äº†")]),s._v(" "),a("li",[s._v("Nacos æ”¯æŒæœåŠ¡åˆ—è¡¨å˜æ›´çš„æ¶ˆæ¯æ¨é€æ¨¡å¼ï¼ŒæœåŠ¡åˆ—è¡¨æ›´æ–°æ›´åŠæ—¶")]),s._v(" "),a("li",[s._v("Nacos é›†ç¾¤é»˜è®¤é‡‡ç”¨ AP æ–¹å¼ï¼Œå½“é›†ç¾¤ä¸­å­˜åœ¨éä¸´æ—¶å®ä¾‹æ—¶ï¼Œé‡‡ç”¨ CP æ¨¡å¼ï¼›Eureka é‡‡ç”¨ AP æ–¹å¼")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);