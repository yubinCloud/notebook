(window.webpackJsonp=window.webpackJsonp||[]).push([[324],{1095:function(t,_,a){"use strict";a.r(_);var v=a(22),s=Object(v.a)({},(function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-开机、重启与用户登录注销"}},[t._v("1. 开机、重启与用户登录注销")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-1-关机-重启命令"}},[t._v("1.1 关机 & 重启命令")])]),a("li",[a("a",{attrs:{href:"#_1-2-用户登录和注销"}},[t._v("1.2 用户登录和注销")])])])]),a("li",[a("a",{attrs:{href:"#_2-用户管理"}},[t._v("2. 用户管理")]),a("ul",[a("li",[a("a",{attrs:{href:"#_2-1-添加用户"}},[t._v("2.1 添加用户")])]),a("li",[a("a",{attrs:{href:"#_2-2-指定-修改密码"}},[t._v("2.2 指定/修改密码")])]),a("li",[a("a",{attrs:{href:"#_2-3-删除用户"}},[t._v("2.3 删除用户")])]),a("li",[a("a",{attrs:{href:"#_2-4-查询用户信息"}},[t._v("2.4 查询用户信息")])]),a("li",[a("a",{attrs:{href:"#_2-5-切换用户"}},[t._v("2.5 切换用户")])]),a("li",[a("a",{attrs:{href:"#_2-6-查看当前登录用户"}},[t._v("2.6 查看当前登录用户")])]),a("li",[a("a",{attrs:{href:"#_2-7-用户组"}},[t._v("2.7 用户组")])]),a("li",[a("a",{attrs:{href:"#_2-8-用户和组相关的文件"}},[t._v("2.8 用户和组相关的文件")])])])]),a("li",[a("a",{attrs:{href:"#_3-实用指令"}},[t._v("3. 实用指令")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1-运行级别"}},[t._v("3.1 运行级别")])]),a("li",[a("a",{attrs:{href:"#_3-2-找回-root-密码"}},[t._v("3.2 找回 root 密码")])]),a("li",[a("a",{attrs:{href:"#_3-3-帮助指令"}},[t._v("3.3 帮助指令")])]),a("li",[a("a",{attrs:{href:"#_3-4-时间日期类"}},[t._v("3.4 时间日期类")])]),a("li",[a("a",{attrs:{href:"#_3-5-搜索查找类"}},[t._v("3.5 搜索查找类")])]),a("li",[a("a",{attrs:{href:"#_3-6-压缩和解压类"}},[t._v("3.6 压缩和解压类")])])])]),a("li",[a("a",{attrs:{href:"#_4-组管理和权限管理"}},[t._v("4. 组管理和权限管理")]),a("ul",[a("li",[a("a",{attrs:{href:"#_4-1-所有者"}},[t._v("4.1 所有者")])]),a("li",[a("a",{attrs:{href:"#_4-2-组的创建"}},[t._v("4.2 组的创建")])]),a("li",[a("a",{attrs:{href:"#_4-3-所在组"}},[t._v("4.3 所在组")])]),a("li",[a("a",{attrs:{href:"#_4-4-其他组"}},[t._v("4.4 其他组")])]),a("li",[a("a",{attrs:{href:"#_4-5-改变用户的所在组"}},[t._v("4.5 改变用户的所在组")])]),a("li",[a("a",{attrs:{href:"#_4-6-文件的权限"}},[t._v("4.6 文件的权限")])])])]),a("li",[a("a",{attrs:{href:"#_5-定时任务调度"}},[t._v("5. 定时任务调度")]),a("ul",[a("li",[a("a",{attrs:{href:"#_5-1-crond-任务调度"}},[t._v("5.1 crond 任务调度")])]),a("li",[a("a",{attrs:{href:"#_5-2-at-定时任务"}},[t._v("5.2 at 定时任务")])])])]),a("li",[a("a",{attrs:{href:"#_6-磁盘分区、挂载"}},[t._v("6. 磁盘分区、挂载")]),a("ul",[a("li",[a("a",{attrs:{href:"#_6-1-linux-分区"}},[t._v("6.1 Linux 分区")])]),a("li",[a("a",{attrs:{href:"#_6-2-挂载的经典案例-增加一块硬盘"}},[t._v("6.2 挂载的经典案例 —— 增加一块硬盘")])]),a("li",[a("a",{attrs:{href:"#_6-3-磁盘情况查询"}},[t._v("6.3 磁盘情况查询")])]),a("li",[a("a",{attrs:{href:"#_6-4-磁盘情况-工作实用指令"}},[t._v("6.4 磁盘情况 - 工作实用指令")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"_1-开机、重启与用户登录注销"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-开机、重启与用户登录注销"}},[t._v("#")]),t._v(" 1. 开机、重启与用户登录注销")]),t._v(" "),a("h3",{attrs:{id:"_1-1-关机-重启命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-关机-重启命令"}},[t._v("#")]),t._v(" 1.1 关机 & 重启命令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("命令")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("shutdown -h now")]),t._v(" "),a("td",[t._v("立刻进行关机")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("shutdown -h 2")]),t._v(" "),a("td",[t._v("“hello，2 分钟后会关机了”")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("shutdown -r now")]),t._v(" = "),a("code",[t._v("reboot")])]),t._v(" "),a("td",[t._v("现在重启")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("halt")]),t._v(" "),a("td",[t._v("关机，与上面一样")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("sync")]),t._v(" "),a("td",[t._v("把内存的数据同步到磁盘")])])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("不管是重启还是关机，首先要运行 sync 命令")]),t._v("，把内存中的数据写到磁盘中。目前的 shutdown/reboot/halt 等命令均在关机前进行了 sync，但小心驶得万年船。")]),t._v(" "),a("li",[t._v("root 才可以关机。")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-用户登录和注销"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-用户登录和注销"}},[t._v("#")]),t._v(" 1.2 用户登录和注销")]),t._v(" "),a("p",[a("strong",[t._v("登录")]),t._v("时尽量少用 root 账号，避免操作失误。使用 "),a("code",[t._v("su <用户名>")]),t._v(" 可以切换身份。")]),t._v(" "),a("p",[a("code",[t._v("logout")]),t._v(" 命令即可"),a("strong",[t._v("注销")]),t._v("用户。这个指令再图形运行级别无效。")]),t._v(" "),a("h2",{attrs:{id:"_2-用户管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-用户管理"}},[t._v("#")]),t._v(" 2. 用户管理")]),t._v(" "),a("p",[t._v("Linux 是一个"),a("strong",[t._v("多用户多任务")]),t._v("的操作系统。")]),t._v(" "),a("h3",{attrs:{id:"_2-1-添加用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-添加用户"}},[t._v("#")]),t._v(" 2.1 添加用户")]),t._v(" "),a("p",[t._v("语法："),a("code",[t._v("useradd 用户名")])]),t._v(" "),a("ul",[a("li",[t._v("当用户创建成功后，会"),a("strong",[t._v("自动创建与用户同名的家目录")]),t._v("。")]),t._v(" "),a("li",[t._v("也可以通过 "),a("code",[t._v("useradd -d 指定目录 用户名")]),t._v(" 来给新用户指定家目录。")])]),t._v(" "),a("h3",{attrs:{id:"_2-2-指定-修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-指定-修改密码"}},[t._v("#")]),t._v(" 2.2 指定/修改密码")]),t._v(" "),a("p",[a("code",[t._v("passwd tom")]),t._v("：给 tom 指定密码")]),t._v(" "),a("h3",{attrs:{id:"_2-3-删除用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-删除用户"}},[t._v("#")]),t._v(" 2.3 删除用户")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("userdel yubin")]),t._v("：删除用户 yubin，但要保留家目录")]),t._v(" "),a("li",[a("code",[t._v("userdel -r yubin")]),t._v("：删除用户及其家目录")])]),t._v(" "),a("p",[t._v("一般情况下，我们"),a("strong",[t._v("建议保留")]),t._v("，毕竟他所做的工作放在了里面。")]),t._v(" "),a("h3",{attrs:{id:"_2-4-查询用户信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-查询用户信息"}},[t._v("#")]),t._v(" 2.4 查询用户信息")]),t._v(" "),a("p",[a("code",[t._v("id 用户名")]),t._v("：查询该用户的信息，当用户不存在时返回无此用户。")]),t._v(" "),a("h3",{attrs:{id:"_2-5-切换用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-切换用户"}},[t._v("#")]),t._v(" 2.5 切换用户")]),t._v(" "),a("p",[t._v("当操作权限不够时，可以通过 "),a("code",[t._v("su")]),t._v(" 命令切换到高权限用户。")]),t._v(" "),a("ul",[a("li",[t._v("从高权限到低权限的切换不需要密码，反之需要。")]),t._v(" "),a("li",[t._v("当需要返回到原来用户时，使用 exit/logout 指令。")])]),t._v(" "),a("h3",{attrs:{id:"_2-6-查看当前登录用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-查看当前登录用户"}},[t._v("#")]),t._v(" 2.6 查看当前登录用户")]),t._v(" "),a("p",[a("code",[t._v("whoami")]),t._v(" = "),a("code",[t._v("who am I")]),t._v("：显示第一次登录时的用户。")]),t._v(" "),a("h3",{attrs:{id:"_2-7-用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-用户组"}},[t._v("#")]),t._v(" 2.7 用户组")]),t._v(" "),a("p",[t._v("用户组可以让系统对有共性/权限的多个用户进行统一管理。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("groupadd 组名")]),t._v("：新增组")]),t._v(" "),a("li",[a("code",[t._v("groupdel 组名")]),t._v("：删除组")])]),t._v(" "),a("p",[t._v("如何将让一个用户加入一个组呢？有以下几种方法：")]),t._v(" "),a("ol",[a("li",[t._v("增加用户时直接加上组："),a("code",[t._v("useradd -g 用户组 用户名")])]),t._v(" "),a("li",[t._v("修改用户的组："),a("code",[t._v("usermod -g 用户组 用户名")])]),t._v(" "),a("li",[t._v("若一个用户没有指定加入哪个组，会"),a("strong",[t._v("默认在一个与自己同名的组")]),t._v("中")])]),t._v(" "),a("h3",{attrs:{id:"_2-8-用户和组相关的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-用户和组相关的文件"}},[t._v("#")]),t._v(" 2.8 用户和组相关的文件")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("/etc/passwd")]),t._v(" 文件：用户的配置文件，记录用户的各种信息\n"),a("ul",[a("li",[t._v("每行的含义："),a("code",[t._v("用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录shell")])])])]),t._v(" "),a("li",[a("strong",[t._v("/etc/shadow")]),t._v(" 文件：口令的配置文件\n"),a("ul",[a("li",[t._v("每行的含义："),a("code",[t._v("登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志")])])])]),t._v(" "),a("li",[a("strong",[t._v("/etc/group")]),t._v(" 文件：组的配置文件，记录各组的信息\n"),a("ul",[a("li",[t._v("每行的含义："),a("code",[t._v("组名:口令:组标识号:组内的用户列表")])])])])]),t._v(" "),a("h2",{attrs:{id:"_3-实用指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-实用指令"}},[t._v("#")]),t._v(" 3. 实用指令")]),t._v(" "),a("h3",{attrs:{id:"_3-1-运行级别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-运行级别"}},[t._v("#")]),t._v(" 3.1 运行级别")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("运行级别")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),a("td",[t._v("关机")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",[t._v("单用户模式（可以帮助我们找回丢失密码）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",[t._v("多用户状态没有网络服务")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("mark",[t._v("3")])]),t._v(" "),a("td",[t._v("多用户状态"),a("strong",[t._v("有网络服务")]),t._v("【工作中常用】")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",[t._v("系统未使用，保留给用户")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("mark",[t._v("5")])]),t._v(" "),a("td",[a("strong",[t._v("图形界面")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),a("td",[t._v("系统重启")])])])]),t._v(" "),a("ul",[a("li",[t._v("常见运行级别是 3 和 5，也可以指定默认运行级别。")])]),t._v(" "),a("p",[a("code",[t._v("init <num>")]),t._v("：切换到 num 运行级别，如 "),a("code",[t._v("init 3")]),t._v(" 将切换到多用户状态有网络服务模式。")]),t._v(" "),a("h4",{attrs:{id:"centos-7-后运行级别说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-后运行级别说明"}},[t._v("#")]),t._v(" CentOS 7 后运行级别说明")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("multi-user.target")]),t._v("：相当于 runlevel 3")]),t._v(" "),a("li",[a("strong",[t._v("graphical.target")]),t._v("：相当于 runlevel 5")])]),t._v(" "),a("p",[t._v("查看当前默认运行级别："),a("code",[t._v("systemctl get-default")])]),t._v(" "),a("p",[t._v("设置默认运行级别："),a("code",[t._v("systemctl set-default TARGET.target")])]),t._v(" "),a("blockquote",[a("p",[t._v("当我们在图形化下将默认运行级别设为 graphical.target 后，重启系统后会默认进入黑框框界面，即 runlevel 3。")])]),t._v(" "),a("h3",{attrs:{id:"_3-2-找回-root-密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-找回-root-密码"}},[t._v("#")]),t._v(" 3.2 找回 root 密码")]),t._v(" "),a("p",[t._v("// TODO")]),t._v(" "),a("h3",{attrs:{id:"_3-3-帮助指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-帮助指令"}},[t._v("#")]),t._v(" 3.3 帮助指令")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("man [命令或配置文件]")]),t._v("：获得帮助信息，比如 "),a("code",[t._v("man ls")])]),t._v(" "),a("li",[a("code",[t._v("help 命令")]),t._v("：获得 shell 内置命令的帮助信息")])]),t._v(" "),a("p",[t._v("如果英语不太好，"),a("strong",[t._v("百度更直接")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"_3-4-时间日期类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-时间日期类"}},[t._v("#")]),t._v(" 3.4 时间日期类")]),t._v(" "),a("h4",{attrs:{id:"_3-4-1-date-显示当前日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1-date-显示当前日期"}},[t._v("#")]),t._v(" 3.4.1 date 显示当前日期")]),t._v(" "),a("p",[a("code",[t._v("date")]),t._v("：显示当前日期")]),t._v(" "),a("p",[a("code",[t._v('date "+format"')]),t._v("：format 中可以用 %Y（年）、%m（月）、%d（日）、%H（时）、%M（月）、%S（秒），比如 "),a("code",[t._v('date "+%Y-%m-%d %H:%M:%S"')])]),t._v(" "),a("h4",{attrs:{id:"_3-4-2-cal-显示日历"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-cal-显示日历"}},[t._v("#")]),t._v(" 3.4.2 cal 显示日历")]),t._v(" "),a("p",[t._v("calendar 的缩写。")]),t._v(" "),a("p",[a("code",[t._v("cal [选项]")])]),t._v(" "),a("ul",[a("li",[t._v("默认显示本月日历")]),t._v(" "),a("li",[a("code",[t._v("cal 2020")]),t._v("：显示 2020 全年的日历")])]),t._v(" "),a("h3",{attrs:{id:"_3-5-搜索查找类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-搜索查找类"}},[t._v("#")]),t._v(" 3.5 搜索查找类")]),t._v(" "),a("h4",{attrs:{id:"_3-5-1-find"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-find"}},[t._v("#")]),t._v(" 3.5.1 find")]),t._v(" "),a("p",[t._v("find 指令将从指定目录向下递归地遍历"),a("strong",[t._v("其各个子目录")]),t._v("，将满足条件的文件或目录显示出来。")]),t._v(" "),a("p",[a("code",[t._v("find [搜索范围] [选项]")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-name <查询方式>")]),t._v("：按指定的文件名查找模式查找文件")]),t._v(" "),a("li",[a("code",[t._v("-user <用户名>")]),t._v("：查找属于指定用户名的所有文件")]),t._v(" "),a("li",[a("code",[t._v("-size <文件大小>")]),t._v("：按照指定的文件大小查找文件")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：")]),t._v(" "),a("ul",[a("li",[t._v("根据名称查找 /home 目录下的 hello.txt："),a("code",[t._v("find /home -name hello.txt")])]),t._v(" "),a("li",[t._v("查找 /opt 下用户 yubin 的文件："),a("code",[t._v("find /opt -user yubin")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-5-2-locate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-locate"}},[t._v("#")]),t._v(" 3.5.2 locate")]),t._v(" "),a("p",[t._v("locate 可以快速定位文件路径。locate 指令"),a("strong",[t._v("利用事先建立的数据库")]),t._v("实现快速定位，它"),a("strong",[t._v("无需遍历整个")]),t._v("文件系统因而较快。为了保证查询结果准确性，"),a("strong",[t._v("管理员必须定期更新")]),t._v(" locate 时刻："),a("code",[t._v("updatedb")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("locate [搜索文件]")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("第一次使用前，必须使用 "),a("code",[t._v("updatedb")]),t._v(" 指令来创建 locate 数据库。")])]),t._v(" "),a("h4",{attrs:{id:"_3-5-3-which"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-3-which"}},[t._v("#")]),t._v(" 3.5.3 which")]),t._v(" "),a("p",[t._v("which 可以查看某个指令在哪个目录下。比如 "),a("code",[t._v("which ls")]),t._v(" 查看 ls 指令在哪个目录。")]),t._v(" "),a("h4",{attrs:{id:"_3-5-4-grep-指令和管道符号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-4-grep-指令和管道符号"}},[t._v("#")]),t._v(" 3.5.4 grep 指令和管道符号 "),a("code",[t._v("|")])]),t._v(" "),a("p",[t._v("grep 过滤查找。")]),t._v(" "),a("p",[t._v("管道夫 "),a("code",[t._v("|")]),t._v(" 表示将前一个命令的处理结果输出传递给后面的命令处理。")]),t._v(" "),a("p",[a("code",[t._v("grep [选项] 查找内容 源文件")])]),t._v(" "),a("ul",[a("li",[t._v("-n：显示匹配行及行号")]),t._v(" "),a("li",[t._v("-i：忽略字母大小写")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：在 hello.text 文件中查找“yes”所在行，并显示行号")]),t._v(" "),a("ul",[a("li",[t._v("写法1："),a("code",[t._v("cat /home/hello.txt | grep “yes”")])]),t._v(" "),a("li",[t._v("写法2："),a("code",[t._v("grep -n “yes” /home/hello.txt")])])])]),t._v(" "),a("h3",{attrs:{id:"_3-6-压缩和解压类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-压缩和解压类"}},[t._v("#")]),t._v(" 3.6 压缩和解压类")]),t._v(" "),a("h4",{attrs:{id:"_3-6-1-gzip-压缩-gunzip-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-1-gzip-压缩-gunzip-解压"}},[t._v("#")]),t._v(" 3.6.1 gzip 压缩 & gunzip 解压")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("gzip 文件")]),t._v("：压缩文件为 *.gz 文件")]),t._v(" "),a("li",[a("code",[t._v("gunzip 文件.gz")]),t._v("：解压")])]),t._v(" "),a("h4",{attrs:{id:"_3-6-2-zip-压缩-unzip-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-2-zip-压缩-unzip-解压"}},[t._v("#")]),t._v(" 3.6.2 zip 压缩 & unzip 解压")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("zip [选项] xxx.zip")]),t._v("：压缩文件和目录。"),a("code",[t._v("-r")]),t._v(" 递归压缩，即压缩目录。")]),t._v(" "),a("li",[a("code",[t._v("unzip [选项] xxx.zip")]),t._v("：解压缩文件。"),a("code",[t._v("-d <目录>")]),t._v(" 指定解压后文件的存放目录。")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：")]),t._v(" "),a("ul",[a("li",[t._v("将 /home 下的所有文件压缩："),a("code",[t._v("zip -r myhome.zip /home/")])]),t._v(" "),a("li",[t._v("将 myhome.zip 解压到 /opt/tmp 目录下："),a("code",[t._v("unzip -d /opt/tmp /home/myhome.zip")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-6-3-tar-打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-3-tar-打包"}},[t._v("#")]),t._v(" 3.6.3 tar 打包 ⭐️")]),t._v(" "),a("p",[t._v("tar 是打包指令（仅仅打包但不压缩），最后打包后的文件是 xxx.tar.gz 文件。")]),t._v(" "),a("p",[a("code",[t._v("tar [选项] xxx.tar.gz 打包的内容")]),t._v("：打包目录，压缩后的文件格式为 xxx.tar.gz")]),t._v(" "),a("ul",[a("li",[t._v("-c：【create】创建一个新的打包文件")]),t._v(" "),a("li",[t._v("-v：【verbose】显示详细信息")]),t._v(" "),a("li",[t._v("-f：【filename】指定压缩后的文件名")]),t._v(" "),a("li",[t._v("-z：【gzip】打包同时用 gzip 算法压缩")]),t._v(" "),a("li",[t._v("-x：【extract】"),a("strong",[t._v("解包")]),t._v(" .tar 文件")])]),t._v(" "),a("p",[t._v("常用的选项组合：")]),t._v(" "),a("ul",[a("li",[t._v("打包并压缩：tar -"),a("strong",[t._v("zcvf")]),t._v(" xxx.tar.gz [原文件名/目录名]")]),t._v(" "),a("li",[t._v("解压并解包：tar -"),a("strong",[t._v("zxvf")]),t._v(" xxx.tar.gz [目的地]")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：")]),t._v(" "),a("ul",[a("li",[t._v("将 pig.txt 和 cat.txt 压缩成 pc.tar.gz："),a("code",[t._v("tar -zcvf pc.tar.gz pig.txt cat.txt")])]),t._v(" "),a("li",[t._v("将 /home 文件夹压缩成 myhome.tar.gz："),a("code",[t._v("tar -zcvf myhome.tar.gz /home/")])]),t._v(" "),a("li",[t._v("将 pc.tar.gz 解压到当前目录："),a("code",[t._v("tar -zxvf pc.tar.gz")])]),t._v(" "),a("li",[t._v("将 pc.tar.gz 解压到 /opt/tmp："),a("code",[t._v("tar -zxvf pc.tar.gz /opt/tmp")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-组管理和权限管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-组管理和权限管理"}},[t._v("#")]),t._v(" 4. 组管理和权限管理")]),t._v(" "),a("p",[t._v("Linux 中"),a("strong",[t._v("每个用户必须属于一个组")]),t._v("，不能独立于组外。"),a("strong",[t._v("每个文件有所有者、所在组、其他组的概念")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("目录也是一种特殊的文件")]),t._v("，所以这里的“文件”也包括了目录。")])]),t._v(" "),a("h3",{attrs:{id:"_4-1-所有者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-所有者"}},[t._v("#")]),t._v(" 4.1 所有者")]),t._v(" "),a("p",[t._v("创建文件的人是"),a("strong",[t._v("所有者")]),t._v("，所有者可以更改。")]),t._v(" "),a("h4",{attrs:{id:"_4-1-1-查看文件的所有者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-查看文件的所有者"}},[t._v("#")]),t._v(" 4.1.1 查看文件的所有者")]),t._v(" "),a("p",[a("code",[t._v("ls -ahl")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220209213608902.png",alt:"image-20220209213608902"}})]),t._v(" "),a("ul",[a("li",[t._v("最后一列的蓝色表示这是个目录，白色表示是文件")])]),t._v(" "),a("h4",{attrs:{id:"_4-1-2-修改文件所有者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-修改文件所有者"}},[t._v("#")]),t._v(" 4.1.2 修改文件所有者")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("chown 用户名 文件名")]),t._v("：【change owner】将文件的所有者改成指定的用户")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("chown newOwner:newGroup 文件名")]),t._v("：同时改变所有者和所在组")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("-R")]),t._v("：如果是目录，则使其下所有子文件或者目录递归生效")])])]),t._v(" "),a("h3",{attrs:{id:"_4-2-组的创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-组的创建"}},[t._v("#")]),t._v(" 4.2 组的创建")]),t._v(" "),a("p",[a("code",[t._v("groupadd 组名")]),t._v("：创建一个组")]),t._v(" "),a("blockquote",[a("p",[t._v("案例：")]),t._v(" "),a("ul",[a("li",[t._v("创建一个组 monster："),a("code",[t._v("groupadd monster")])]),t._v(" "),a("li",[t._v("创建一个用户 fox，并放到 monster 组中："),a("code",[t._v("useradd -g monster fox")]),t._v(" "),a("ul",[a("li",[t._v("-g 表示 group")])])])])]),t._v(" "),a("h3",{attrs:{id:"_4-3-所在组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-所在组"}},[t._v("#")]),t._v(" 4.3 所在组")]),t._v(" "),a("p",[t._v("当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组（默认）。")]),t._v(" "),a("h4",{attrs:{id:"_4-3-1-查看文件的所在组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-查看文件的所在组"}},[t._v("#")]),t._v(" 4.3.1 查看文件的所在组")]),t._v(" "),a("p",[a("code",[t._v("ls -ahl")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220209213608902.png",alt:"image-20220209213608902"}})]),t._v(" "),a("h4",{attrs:{id:"_4-3-2-修改文件的所在组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-修改文件的所在组"}},[t._v("#")]),t._v(" 4.3.2 修改文件的所在组")]),t._v(" "),a("p",[a("code",[t._v("chgrp 组名 文件名")]),t._v("：【change group】")]),t._v(" "),a("h3",{attrs:{id:"_4-4-其他组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-其他组"}},[t._v("#")]),t._v(" 4.4 其他组")]),t._v(" "),a("p",[t._v("除了文件的所有者和所在组的用户外，系统的其他用户都是文件的"),a("strong",[t._v("其他组")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"_4-5-改变用户的所在组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-改变用户的所在组"}},[t._v("#")]),t._v(" 4.5 改变用户的所在组")]),t._v(" "),a("p",[t._v("root 的管理权限可以改变某个用户的所在组。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("usermod -g 新组名 用户名")]),t._v("：修改用户的所在组。")])]),t._v(" "),a("blockquote",[a("p",[t._v("usermod 可以用来修改用户账号的各项设定，具体可查 "),a("a",{attrs:{href:"https://www.runoob.com/linux/linux-comm-usermod.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("usermod命令 | 菜鸟教程"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_4-6-文件的权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-文件的权限"}},[t._v("#")]),t._v(" 4.6 文件的权限")]),t._v(" "),a("h4",{attrs:{id:"_4-6-1-权限的基本介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-1-权限的基本介绍"}},[t._v("#")]),t._v(" 4.6.1 权限的基本介绍")]),t._v(" "),a("p",[t._v("下图的第一列便是权限：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220209213608902.png",alt:"image-20220209213608902"}})]),t._v(" "),a("ul",[a("li",[t._v("第 0 位表示"),a("strong",[t._v("文件类型")]),t._v("：l 链接，d 目录，c 字符设备文件（如鼠标、光盘），b 块设备（如硬盘）")]),t._v(" "),a("li",[t._v("第 1~3 位表示"),a("strong",[t._v("所有者")]),t._v("拥有该文件的权限")]),t._v(" "),a("li",[t._v("第 4~6 位表示"),a("strong",[t._v("所属组")]),t._v("拥有该文件的权限")]),t._v(" "),a("li",[t._v("第 7~9 位表示"),a("strong",[t._v("其他用户")]),t._v("拥有该文件的权限")])]),t._v(" "),a("h4",{attrs:{id:"_4-6-2-rwx-权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-2-rwx-权限"}},[t._v("#")]),t._v(" 4.6.2 rwx 权限 ⭐️")]),t._v(" "),a("h5",{attrs:{id:"_1-rwx-作用到文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-rwx-作用到文件"}},[t._v("#")]),t._v(" "),a("strong",[t._v("1）rwx 作用到文件")])]),t._v(" "),a("ul",[a("li",[t._v("【r】可读")]),t._v(" "),a("li",[t._v("【w】可写。"),a("strong",[t._v("可以修改但不代表可以删除该文件")]),t._v("，"),a("strong",[t._v("删除一个文件的前提条件是对该文件所在的目录有写权限")]),t._v("。")]),t._v(" "),a("li",[t._v("【x】可执行（execute）")])]),t._v(" "),a("h5",{attrs:{id:"_2-rwx-作用到目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-rwx-作用到目录"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2）rwx 作用到目录")])]),t._v(" "),a("ul",[a("li",[t._v("【r】可读。ls  可以查看目录内容。")]),t._v(" "),a("li",[t._v("【w】可写。可以对目录内创建 + 删除 + 重命名目录。")]),t._v(" "),a("li",[t._v("【x】可执行。可以进入该目录。")])]),t._v(" "),a("h4",{attrs:{id:"_4-6-3-权限的数字表示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-3-权限的数字表示"}},[t._v("#")]),t._v(" 4.6.3 权限的数字表示")]),t._v(" "),a("p"),a("p",[a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML",display:"true"}},[a("mjx-math",{staticClass:" MJX-TEX",attrs:{display:"true"}},[a("mjx-mstyle",{staticStyle:{color:"blue"}},[a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"r"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"4"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("，")])],1),a("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"w"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"2"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("，")])],1),a("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"x"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"1"}})],1)],1)],1)],1)],1),a("p"),t._v(" "),a("p",[t._v("因此 rwx = 4+2+1 = 7，rw- = 4+2 = 6 等")]),t._v(" "),a("h4",{attrs:{id:"_4-6-4-chmod-修改权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-4-chmod-修改权限"}},[t._v("#")]),t._v(" 4.6.4 chmod 修改权限")]),t._v(" "),a("p",[t._v("chmod 可以修改文件/目录的权限："),a("code",[t._v("chmod [变更方式] 文件名")])]),t._v(" "),a("h5",{attrs:{id:"_1-第一种方式-变更权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一种方式-变更权限"}},[t._v("#")]),t._v(" 1）第一种方式：+ - = 变更权限")]),t._v(" "),a("ul",[a("li",[t._v("u —— 所有者，user 的简写")]),t._v(" "),a("li",[t._v("g —— 所有组，group 的简写")]),t._v(" "),a("li",[t._v("o —— 其他人，other 的简写")]),t._v(" "),a("li",[t._v("a —— 所有人（即 u、g、o 的总和），all 的简写")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：给 foo.txt 的所有者赋予读写执行的权限，增加所在组写的权限，除去其他人读的权限")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("chmod u=rwx,g+w,o-r foo.txt")])])])]),t._v(" "),a("h5",{attrs:{id:"_2-第二种方式-通过数字变更权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二种方式-通过数字变更权限"}},[t._v("#")]),t._v(" 2）第二种方式：通过数字变更权限")]),t._v(" "),a("p"),a("p",[a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML",display:"true"}},[a("mjx-math",{staticClass:" MJX-TEX",attrs:{display:"true"}},[a("mjx-mstyle",{staticStyle:{color:"blue"}},[a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"r"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"4"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("，")])],1),a("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"w"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"2"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("，")])],1),a("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"x"}})],1),a("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"="}})],1),a("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[a("mjx-c",{attrs:{c:"1"}})],1)],1)],1)],1)],1),a("p"),t._v(" "),a("blockquote",[a("p",[t._v("案例：将 bar.txt 的权限修改为 rwxr-xr-x")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("chmod 755 bar.txt")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-定时任务调度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-定时任务调度"}},[t._v("#")]),t._v(" 5. 定时任务调度")]),t._v(" "),a("h3",{attrs:{id:"_5-1-crond-任务调度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-crond-任务调度"}},[t._v("#")]),t._v(" 5.1 crond 任务调度")]),t._v(" "),a("p",[t._v("crontab 进行定时任务的设置。该命令"),a("strong",[t._v("每分钟会定期检查")]),t._v("是否有要执行的工作，如果有要执行的工作便会自动执行该工作。")]),t._v(" "),a("blockquote",[a("p",[t._v("英语：crond 定时任务，crontab 定时任务")])]),t._v(" "),a("h4",{attrs:{id:"_5-1-1-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-概述"}},[t._v("#")]),t._v(" 5.1.1 概述")]),t._v(" "),a("p",[a("strong",[t._v("任务调度")]),t._v("：是指系统在某个时间执行特定的命令或程序。")]),t._v(" "),a("p",[t._v("任务调度分类：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("系统工作")]),t._v("：系统周期性所要执行的工作，如病毒扫描")]),t._v(" "),a("li",[a("strong",[t._v("个别用户工作")]),t._v("：某个用户定期要做的工作，比如对 MySQL 数据库的备份")])]),t._v(" "),a("h4",{attrs:{id:"_5-1-2-基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-基本语法"}},[t._v("#")]),t._v(" 5.1.2 基本语法")]),t._v(" "),a("p",[a("code",[t._v("crontab [选项]")])]),t._v(" "),a("ul",[a("li",[t._v("-e：使用编辑器来编辑 crontab 定时任务")]),t._v(" "),a("li",[t._v("-l：列出目前的时程表")]),t._v(" "),a("li",[t._v("-r：删除当前用户的时程表（即所有 crontab 任务）")])]),t._v(" "),a("h4",{attrs:{id:"_5-1-3-快速入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-3-快速入门"}},[t._v("#")]),t._v(" 5.1.3 快速入门")]),t._v(" "),a("p",[t._v("设置任务调度文件：/etc/crontab")]),t._v(" "),a("p",[t._v("设置个人任务调度：执行 "),a("code",[t._v("crontab -e")]),t._v(" 命令，接着输入任务到调度文件。如输入 "),a("code",[t._v("*/1 * * * * ls -l /etc/ > /tmp/to.txt")]),t._v(" 表示每个小时的每分钟执行 "),a("code",[t._v("ls -l /etc/ > /tmp/to.txt")]),t._v(" 命令。")]),t._v(" "),a("h5",{attrs:{id:"任务书写格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务书写格式"}},[t._v("#")]),t._v(" 任务书写格式：")]),t._v(" "),a("p",[a("code",[t._v("f1 f2 f3 f4 f5 program")])]),t._v(" "),a("ul",[a("li",[t._v("program 处为定时执行的命令")]),t._v(" "),a("li",[t._v("f1 ~ f5 为指示时间的占位符，具体可见下面")])]),t._v(" "),a("h5",{attrs:{id:"_5-个占位符的说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-个占位符的说明"}},[t._v("#")]),t._v(" 5 个占位符的说明：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("*    *    *    *    *\n-    -    -    -    -\n|    |    |    |    |\n|    |    |    |    +----- 星期中星期几 (0 - 6) (星期天 为0)\n|    |    |    +---------- 月份 (1 - 12) \n|    |    +--------------- 一个月中的第几天 (1 - 31)\n|    +-------------------- 小时 (0 - 23)\n+------------------------- 分钟 (0 - 59)\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h5",{attrs:{id:"特殊符号的说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊符号的说明"}},[t._v("#")]),t._v(" 特殊符号的说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("特殊符号")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("*")])]),t._v(" "),a("td",[t._v("代表任何时间，比如第一个 "),a("code",[t._v("*")]),t._v(" 就代表一个小时中每分钟执行一次的意思。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v(",")])]),t._v(" "),a("td",[t._v("代表不连续的时间，如 "),a("code",[t._v("0 8,12,16 * * *")]),t._v(" 命令就代表每天的8点0分、12点0分、16点0分都执行一次命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("-")])]),t._v(" "),a("td",[t._v("代表连续的时间范围，如 "),a("code",[t._v("0 5 * * 1-6")]),t._v(" 命令就代表周一到周六的凌晨5点0分执行命令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("*/n")])]),t._v(" "),a("td",[t._v("代表每隔多久执行一次，如 "),a("code",[t._v("*/10 * * * *")]),t._v(" 就代表每隔 10 分钟就执行一次命令")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("案例可见 "),a("a",{attrs:{href:"https://www.runoob.com/linux/linux-comm-crontab.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("crontab 命令 | 菜鸟教程"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_5-2-at-定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-at-定时任务"}},[t._v("#")]),t._v(" 5.2 at 定时任务")]),t._v(" "),a("p",[t._v("crond 是反复执行的任务，而 "),a("strong",[t._v("at 命令是一次性定时计划任务")]),t._v("，其"),a("strong",[t._v("守护进程 atd")]),t._v(" 会以后台模式运行，检查任务队列来运行。")]),t._v(" "),a("p",[t._v("默认情况下，atd 守护进程"),a("strong",[t._v("每分钟检查一次作业队列")]),t._v("，有作业时会检查其运行时间，若匹配则运行此作业。在使用 at 命令时，一定要保证 atd 进程的启动，可以使用 "),a("code",[t._v("ps -ef | grep atd")]),t._v(" 来检测 atd 是否在运行。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ps -ef | grep atd")]),t._v("：查看所有进程并过滤出 atd")])]),t._v(" "),a("p",[t._v("命令格式："),a("code",[t._v("at [选项] [时间]")])]),t._v(" "),a("ul",[a("li",[t._v("-m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出")]),t._v(" "),a("li",[t._v("-I atq的别名")]),t._v(" "),a("li",[t._v("-d atrm的别名")]),t._v(" "),a("li",[t._v("-v 显示任务将被执行的时间")]),t._v(" "),a("li",[t._v("-c 打印任务的内容到标准输出")]),t._v(" "),a("li",[t._v("-V 显示版本信息")]),t._v(" "),a("li",[a("code",[t._v("-q<列队>")]),t._v(" 使用指定的列队")]),t._v(" "),a("li",[a("code",[t._v("-f<文件>")]),t._v(" 从指定文件读入任务而不是从标准输入读入")]),t._v(" "),a("li",[a("code",[t._v("-t<时间参数>")]),t._v(" 以时间参数的形式提交要运行的任务")])]),t._v(" "),a("h4",{attrs:{id:"_5-2-1-at-时间定义的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-at-时间定义的方法"}},[t._v("#")]),t._v(" 5.2.1 at 时间定义的方法")]),t._v(" "),a("ul",[a("li",[t._v("接受在当天的 "),a("strong",[t._v("hh:mm")]),t._v("（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。")]),t._v(" "),a("li",[t._v("使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午4点）等比较模糊的 词语来指定时间。")]),t._v(" "),a("li",[t._v("采用 12 小时计时制，即在时间后面加上 AM（上午）或 PM（下午）来说明是上午还是下午。")]),t._v(" "),a("li",[t._v("指定命令执行的具体日期，指定格式为 month day（月 日）或 mm/dd/yy（月/日/年）或 dd.mm.yy（日.月.年）。指定的日期必须跟在指定时间的后面。")]),t._v(" "),a("li",[t._v("使用"),a("strong",[t._v("相对计时法")]),t._v("，指定格式为："),a("strong",[t._v("now + count time-units")]),t._v(" ，now 就是当前时间，time-units 是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count 是时间的数量，究竟是几天，还是几小时，等等。比如 "),a("code",[t._v("now + 5 minutes")]),t._v("。")]),t._v(" "),a("li",[t._v("直接使用today（今天）、tomorrow（明天）来指定完成命令的时间。")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：2 天后的下午 5 点执行 /bin/ls /home")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220210171048935.png",alt:"image-20220210171048935"}})])]),t._v(" "),a("p",[t._v("先输入 "),a("code",[t._v("at [选项] [时间]")]),t._v(" 后回车，再接着输入命令，输入完后按两次 "),a("code",[t._v("Ctrl D")]),t._v(" 结束输入。")]),t._v(" "),a("h2",{attrs:{id:"_6-磁盘分区、挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-磁盘分区、挂载"}},[t._v("#")]),t._v(" 6. 磁盘分区、挂载")]),t._v(" "),a("h3",{attrs:{id:"_6-1-linux-分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-linux-分区"}},[t._v("#")]),t._v(" 6.1 Linux 分区")]),t._v(" "),a("h4",{attrs:{id:"_6-1-1-原理介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-原理介绍"}},[t._v("#")]),t._v(" 6.1.1 原理介绍")]),t._v(" "),a("p",[t._v("Linux 来说无论有几个分区，分给哪一目录使用，它归根结底就"),a("strong",[t._v("只有一个根目录")]),t._v("，一个独立且唯一的文件结构，Linux 中"),a("strong",[t._v("每个分区都是用来组成整个文件系统的一部分")]),t._v("。")]),t._v(" "),a("p",[t._v("Linux 采用了一种叫“"),a("strong",[t._v("载入")]),t._v("”的处理方法，它的整个文件系统中包含了一整套的文件和目录， 且"),a("strong",[t._v("将一个分区和一个目录联系起来")]),t._v("。这时要载入的一个分区将使它的存储空间在一个目录下获得。")]),t._v(" "),a("p",[t._v("示意图："),a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220213190719208.png",alt:"image-20220213190719208"}})]),t._v(" "),a("h4",{attrs:{id:"_6-1-2-硬盘说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-硬盘说明"}},[t._v("#")]),t._v(" 6.1.2 硬盘说明")]),t._v(" "),a("p",[t._v("Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("对于 IDE 硬盘，驱动器标识符为“hdx~”")]),t._v("，“hd”表明分区所在设备的类型，这里是指IDE硬盘。“x”为盘号（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为辅助从属盘），“~”代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始就是逻辑分区。比如 hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区，hdb2 表示为第二个 IDE 硬盘上的第二个主分区或扩展分区。")]),t._v(" "),a("li",[a("strong",[t._v("对于 SCSI 硬盘，驱动器标识符为“sdx~”")]),t._v("，SCSI 硬盘是用“sd”来表示分区所在设备的类型，其余则和 IDE 硬盘的表示方法一样。")])]),t._v(" "),a("h4",{attrs:{id:"_6-1-3-查看所有设备挂载情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-3-查看所有设备挂载情况"}},[t._v("#")]),t._v(" 6.1.3 查看所有设备挂载情况")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("lsblk")]),t._v(" 或者 "),a("code",[t._v("lsblk -f")])]),t._v(" "),a("ul",[a("li",[t._v("lsblk：英文是“list block”，即用于列出所有可用块设备的信息")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20220213192040182.png",alt:"image-20220213192040182"}})]),t._v(" "),a("h3",{attrs:{id:"_6-2-挂载的经典案例-增加一块硬盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-挂载的经典案例-增加一块硬盘"}},[t._v("#")]),t._v(" 6.2 挂载的经典案例 —— 增加一块硬盘")]),t._v(" "),a("p",[t._v("目标：给 Linux 系统增加一块新的硬盘，并且挂载到 /newdisk")]),t._v(" "),a("p",[t._v("主要有以下5个步骤：虚拟机添加硬盘、分区、格式化、挂载、设置可以自动挂载。")]),t._v(" "),a("h4",{attrs:{id:"_1-虚拟机添加硬盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-虚拟机添加硬盘"}},[t._v("#")]),t._v(" 1）虚拟机添加硬盘")]),t._v(" "),a("p",[t._v("在【虚拟机】菜单中，选择【设置】，然后设备列表里添加硬盘，然后一路【下一步】，中间只有选择磁盘大小的地方需要修改，直到完成。然后重启系统（才能识别）！")]),t._v(" "),a("h4",{attrs:{id:"_2-磁盘分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-磁盘分区"}},[t._v("#")]),t._v(" 2）磁盘分区")]),t._v(" "),a("p",[t._v("分区命令："),a("code",[t._v("fdisk /dev/sdb")])]),t._v(" "),a("p",[t._v("开始对 /sdb 分区：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("m")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示命令列表")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("新增分区")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("d")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除分区")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("w")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("写入并退出")])])])]),t._v(" "),a("p",[a("strong",[t._v("做法")]),t._v("：开始分区后输入 n，新增分区，然后选择 p，分区类型为主分区，分区号1-4可选，默认为1，1代表为只为磁盘划分一块分区，2代表为磁盘划分两块分区，依次类推。此次案例选择1。两次回车默认剩余全部空间。最后输入 w 写入分区并退出，若不保存退出输入 q。")]),t._v(" "),a("h4",{attrs:{id:"_3-格式化磁盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-格式化磁盘"}},[t._v("#")]),t._v(" 3）格式化磁盘")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("mkfs -t ext4 /dev/sdb1")])]),t._v(" "),a("ul",[a("li",[t._v("其中 ext4 是分区类型")])]),t._v(" "),a("h4",{attrs:{id:"_4-挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-挂载"}},[t._v("#")]),t._v(" 4）挂载")]),t._v(" "),a("p",[a("strong",[t._v("挂载")]),t._v(": 将一个分区与一个目录联系起来。")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("mount 设备名称 挂载目录")])]),t._v(" "),a("ul",[a("li",[t._v("此次案例为 "),a("code",[t._v("mount /dev/sdb1 /newdisk")])]),t._v(" "),a("li",[t._v("去除挂载命令为 "),a("code",[t._v("umount 设备名称或者挂载目录")]),t._v("，比如 "),a("code",[t._v("umount /dev/sdb1")]),t._v(" 或者 "),a("code",[t._v("umount /newdisk")])])]),t._v(" "),a("h4",{attrs:{id:"_5-设置自动挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-设置自动挂载"}},[t._v("#")]),t._v(" 5）设置自动挂载")]),t._v(" "),a("p",[t._v("用命令行挂载只能实现临时挂载，重启系统后，挂载就会失效。"),a("strong",[t._v("设置自动挂载，即永久挂载，当重启系统，仍然可以挂载到指定目录")]),t._v("。")]),t._v(" "),a("p",[t._v("通过修改 /etc/fstab 文件实现"),a("strong",[t._v("永久挂载")]),t._v("。")]),t._v(" "),a("ul",[a("li",[t._v("此次案例在文件中增加 "),a("code",[t._v("/dev/sdb1 /newdisk ext4 defaults 0 0")])]),t._v(" "),a("li",[t._v("保存并退出文件后，执行 "),a("code",[t._v("mount –a")]),t._v(" 即刻生效")])]),t._v(" "),a("h3",{attrs:{id:"_6-3-磁盘情况查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-磁盘情况查询"}},[t._v("#")]),t._v(" 6.3 磁盘情况查询")]),t._v(" "),a("h4",{attrs:{id:"_6-3-1-查询系统整体磁盘使用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-1-查询系统整体磁盘使用情况"}},[t._v("#")]),t._v(" 6.3.1 查询系统整体磁盘使用情况")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("df -h")])]),t._v(" "),a("ul",[a("li",[t._v("df：disk free，显示目前在 Linux 系统上的文件系统磁盘使用情况统计")]),t._v(" "),a("li",[t._v("-h："),a("strong",[t._v("h")]),t._v("uman readable，使用人类可读的格式(预设值是不加这个选项的")])]),t._v(" "),a("p",[t._v("可用于查询系统整体磁盘使用情况：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" -h\n文件系统                 容量  已用  可用 已用% 挂载点\ndevtmpfs                 974M     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  974M    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /dev\ntmpfs                    991M     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  991M    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /dev/shm\ntmpfs                    991M   11M  980M    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("% /run\ntmpfs                    991M     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  991M    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /sys/fs/cgroup\n/dev/mapper/centos-root   17G  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(".4G   11G   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("34")]),t._v("% /\n/dev/sda1                976M  177M  733M   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("% /boot\nvmhgfs-fuse              400G  317G   84G   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("% /mnt/hgfs\ntmpfs                    199M   52K  198M    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("% /run/user/1000\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("ul",[a("li",[t._v("当“已用”超过 80% 后就不正常了，应该想到扩容。")])]),t._v(" "),a("h4",{attrs:{id:"_6-3-2-查询指定目录的磁盘占用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-2-查询指定目录的磁盘占用情况"}},[t._v("#")]),t._v(" 6.3.2 查询指定目录的磁盘占用情况")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("du -h")])]),t._v(" "),a("ul",[a("li",[t._v("du：disk usage，显示指定的目录或文件所占用的磁盘空间，默认是当前目录。")]),t._v(" "),a("li",[t._v("-s：指定目录占用大小汇总")]),t._v(" "),a("li",[t._v("-h：带计量单位")]),t._v(" "),a("li",[t._v("-a：含文件")]),t._v(" "),a("li",[t._v("--max-depth=1：子目录深度为1")]),t._v(" "),a("li",[t._v("-c：列出明细的同时，增加汇总值")])]),t._v(" "),a("blockquote",[a("p",[t._v("案例：查看 /opt 目录的磁盘占用情况，深度为 1")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -hac --max-depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" /opt\n163M\t/opt/vmware-tools-distrib\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(".0K\t/opt/rh\n54M\t    /opt/VMwareTools-10.3.10-13959562.tar.gz\n216M\t/opt\n216M\t总用量\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"_6-4-磁盘情况-工作实用指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-磁盘情况-工作实用指令"}},[t._v("#")]),t._v(" 6.4 磁盘情况 - 工作实用指令")]),t._v(" "),a("h4",{attrs:{id:"_1-统计-opt-文件夹下文件的个数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-统计-opt-文件夹下文件的个数"}},[t._v("#")]),t._v(" 1）统计 /opt 文件夹下文件的个数")]),t._v(" "),a("p",[t._v('ls -l /opt | grep "^-" | wc -l')]),t._v(" "),a("h4",{attrs:{id:"_2-统计-opt-文件夹下目录的个数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-统计-opt-文件夹下目录的个数"}},[t._v("#")]),t._v(" 2）统计 /opt 文件夹下目录的个数")]),t._v(" "),a("p",[t._v('ls -l /opt | grep "^d" | wc -l')]),t._v(" "),a("h4",{attrs:{id:"_3-统计-opt-文件夹下文件的个数-包括子文件夹下的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-统计-opt-文件夹下文件的个数-包括子文件夹下的"}},[t._v("#")]),t._v(" 3）统计 /opt 文件夹下文件的个数，包括子文件夹下的")]),t._v(" "),a("p",[t._v('ls -lR /opt | grep "^-" | wc -l')]),t._v(" "),a("h4",{attrs:{id:"_4-统计-opt-文件夹下目录的个数-包括子文件夹下的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-统计-opt-文件夹下目录的个数-包括子文件夹下的"}},[t._v("#")]),t._v(" 4）统计 /opt 文件夹下目录的个数，包括子文件夹下的")]),t._v(" "),a("p",[t._v('ls -lR /opt | grep "^d" | wc -l')]),t._v(" "),a("h4",{attrs:{id:"_5-以树状显示目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-以树状显示目录结构"}},[t._v("#")]),t._v(" 5）以树状显示目录结构")]),t._v(" "),a("p",[t._v("yum install tree 后 "),a("code",[t._v("tree 指定目录")])]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ tree "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n├── aaa\n│   └── abc.txt\n├── bar.txt\n├── foo.txt\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("blockquote",[a("p",[t._v("补充："),a("strong",[t._v("wc 命令")])]),t._v(" "),a("p",[t._v("wc（Word Count）命令的功能为统计指定文件中的字节数、字数、行数，并将统计结果显示输出。")]),t._v(" "),a("p",[t._v("命令："),a("code",[t._v("wc [选项] [文件]")])]),t._v(" "),a("ul",[a("li",[t._v("-c：统计字节数")]),t._v(" "),a("li",[t._v("-l：统计行数")]),t._v(" "),a("li",[t._v("-m：统计字符数，这个选项不能与 -c 一起使用")]),t._v(" "),a("li",[t._v("-w：统计字数，一个字被定义为由空白、跳格或换行字符分隔的字符串")]),t._v(" "),a("li",[t._v("-L：统计最长行的长度")])])])])}),[],!1,null,null,null);_.default=s.exports}}]);