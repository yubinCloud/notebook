(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{812:function(t,s,a){"use strict";a.r(s);var n=a(22),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("å‚è€ƒåšå®¢ï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/b_5_0juNglczXYksT6jSeA",target:"_blank",rel:"noopener noreferrer"}},[t._v("æœºå™¨å¦‚ä½•è®¤è¯†æ–‡æœ¬ ï¼ŸNLPä¸­çš„ Tokenization æ–¹æ³•æ€»ç»“"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/512719309",target:"_blank",rel:"noopener noreferrer"}},[t._v("Word, Subword, and Character-Based Tokenization: Tokenizer for Deep learningï¼ˆä¸Šï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/38546218",target:"_blank",rel:"noopener noreferrer"}},[t._v("Subword Regularization é˜…è¯»ç¬”è®°"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[t._v('å…³äº Tokenizationï¼Œç½‘ä¸Šæœ‰ç¿»è¯‘æˆ"åˆ†è¯"çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œå®¹æ˜“å¼•èµ·è¯¯å¯¼ã€‚ä¸€ç›´æ‰¾ä¸åˆ°åˆé€‚çš„ä¸­æ–‡æ¥æ°å½“è¡¨è¾¾ï¼Œæ‰€ä»¥ä¸‹æ–‡é‡‡ç”¨åŸæ±åŸå‘³çš„è‹±æ–‡è¡¨è¾¾ã€‚')]),t._v(" "),a("p",[t._v("åœ¨æ­£å¼è¿›å…¥ä¸»é¢˜ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹ NLP ä»»åŠ¡ä¸­æœ€åŸºç¡€ä¹Ÿæœ€å…ˆéœ€è¦è¿›è¡Œçš„ä¸€æ­¥ï¼š"),a("mark",[t._v("tokenization")]),t._v("ã€‚ç®€å•è¯´ï¼Œ"),a("strong",[t._v("è¯¥æ“ä½œçš„ç›®åœ°æ˜¯å°†è¾“å…¥æ–‡æœ¬åˆ†å‰²æˆä¸€ä¸ªä¸ªtokenï¼Œå’Œè¯å…¸é…åˆä»¥è®©æœºå™¨è®¤è¯†æ–‡æœ¬")]),t._v("ã€‚Tokenization çš„éš¾ç‚¹åœ¨äºå¦‚ä½•è·å¾—ç†æƒ³çš„åˆ‡åˆ†ï¼Œä½¿æ–‡æœ¬ä¸­æ‰€æœ‰çš„ token éƒ½å…·æœ‰æ­£ç¡®çš„è¡¨ä¹‰ï¼Œå¹¶ä¸”ä¸ä¼šå­˜åœ¨é—æ¼ï¼ˆ"),a("strong",[t._v("OOV é—®é¢˜ï¼Œout of vocabulary")]),t._v("ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç®€å•æ¢³ç†ä¸‹ç›®å‰ä¸»æµçš„ tokenization æ–¹æ³•ï¼ŒåŠå…¶ä¼˜ç¼ºç‚¹ã€‚")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20230106214342770.png",alt:"image-20230106214342770"}}),t._v(" "),a("h2",{attrs:{id:"_1-è¯ç²’åº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¯ç²’åº¦"}},[t._v("#")]),t._v(" 1. è¯ç²’åº¦")]),t._v(" "),a("p",[t._v("è¯ç²’åº¦çš„åˆ‡åˆ†å°±è·Ÿäººç±»å¹³æ—¶ç†è§£æ–‡æœ¬åŸç†ä¸€æ ·ï¼Œå¸¸å¸¸ç”¨ä¸€äº›å·¥å…·æ¥å®Œæˆï¼Œä¾‹å¦‚è‹±æ–‡çš„ NLTKã€SpaCyï¼Œä¸­æ–‡çš„ jiebaã€LTP ç­‰ã€‚ä¸¾ä¸ªæ —å­ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("è‹±æ–‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("live in New York ------\x3e live / in / New York /")])])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸­æ–‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨çº½çº¦ç”Ÿæ´» -----\x3e åœ¨ / çº½çº¦ / ç”Ÿæ´»")])])]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸ªåˆ‡åˆ†è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„è€ƒè™‘æ ‡ç‚¹ç¬¦å·çš„ tokenizationï¼Œå› ä¸ºæ¯ä¸ªä¸åŒæ ‡ç‚¹éƒ½ä¼šå¯¼è‡´åŒä¸€å•è¯çš„ä¸åŒè¡¨ç¤ºã€‚")]),t._v(" "),a("p",[t._v("è¯ç²’åº¦çš„åˆ‡åˆ†èƒ½å¤Ÿéå¸¸å¥½åœ°ä¿ç•™å®Œæ•´è¯­ä¹‰ä¿¡æ¯ï¼Œä½†æ˜¯å¦‚æœå‡ºç°æ‹¼å†™é”™è¯¯ã€è‹±æ–‡ä¸­çš„ç¼©å†™ç­‰æƒ…å†µï¼Œé²æ£’æ€§ä¸€èˆ¬ã€‚å¦ä¸€æ–¹é¢ï¼Œè¯åˆ‡åˆ†ä¼šäº§ç”Ÿéå¸¸å·¨å¤§çš„è¯è¡¨ï¼Œè€Œä¸”è¿™éƒ½ä¸èƒ½ç¡®ä¿ä¸ä¼šå‡ºç° out of vocabulary é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·å’ŒåŸºäºè§„åˆ™çš„åˆ†è¯éƒ½æ˜¯è¯ç²’åº¦çš„ tokenization çš„æ–¹æ³•ã€‚ç„¶åä½¿ç”¨ ID è¡¨ç¤ºæ¯ä¸ªå•è¯ï¼Œæ¯ä¸ª ID åŒ…å«å¥å­ä¸­æ¯ä¸ªå•è¯çš„ä¸Šä¸‹æ–‡å’Œè¯­ä¹‰ä¿¡æ¯ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-å­—ç²’åº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å­—ç²’åº¦"}},[t._v("#")]),t._v(" 2. å­—ç²’åº¦")]),t._v(" "),a("p",[t._v("å­—ç²’åº¦æœ€æ—©åº”è¯¥æ˜¯2015å¹´ Karpathy"),a("sup",[t._v("[1]")]),t._v(" æå‡ºï¼Œç®€å•è¯´è‹±æ–‡å°±æ˜¯ä»¥å­—æ¯ä¸ºå•ä½ï¼ˆå¯¹äºå¤§å°å†™ä¸æ•æ„Ÿçš„ä»»åŠ¡ï¼Œç”šè‡³å¯ä»¥å…ˆè½¬å°å†™å†åˆ‡åˆ†ï¼‰ï¼Œä¸­æ–‡å°±æ˜¯ä»¥å­—ä¸ºå•ä½ï¼Œä¸¾ä¸ªæ —å­ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("è‹±æ–‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("live in New York -----\x3e l / i / v /e / i / n / N / e / w / Y / o / r /k")])])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸­æ–‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨çº½çº¦ç”Ÿæ´» -----\x3e åœ¨ / çº½ / çº¦ / ç”Ÿ / æ´»")])])]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹å‡ºï¼Œå­—ç²’åº¦çš„åˆ‡åˆ†å¾ˆå¥½åœ°è§£å†³äº†è¯ç²’åº¦çš„ç¼ºé™·ï¼Œé²æ£’æ€§å¢å¼ºã€è¯è¡¨å¤§å¤§å‡å°ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œä¹Ÿä¼šå¸¦æ¥ä¸€äº›éº»çƒ¦ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ¯«æ— æ„ä¹‰")]),t._v("ï¼šä¸€ä¸ªå­—æ¯æˆ–ä¸€ä¸ªå•å­—æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ä»»ä½•è¯­ä¹‰æ„ä¹‰ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("å¢åŠ è¾“å…¥è®¡ç®—å‹åŠ›")]),t._v("ï¼šå‡å°è¯è¡¨çš„ä»£ä»·å°±æ˜¯è¾“å…¥é•¿åº¦å¤§å¤§å¢åŠ ï¼Œä»è€Œè¾“å…¥è®¡ç®—å˜å¾—æ›´è€—æ—¶è€—åŠ›ï¼›")])]),t._v(" "),a("p",[t._v("å¦‚æœè¯ç²’åº¦ä¸ç†æƒ³ï¼Œè€Œä¸”å­—ç²’åº¦ä¼¼ä¹ä¹Ÿæœ‰è‡ªå·±çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆæ›¿ä»£æ–¹æ³•å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("Here comes subword tokenization!")]),t._v(" "),a("h2",{attrs:{id:"_3-subword-ç²’åº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-subword-ç²’åº¦"}},[t._v("#")]),t._v(" 3. Subword ç²’åº¦")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç†æƒ³ä¸­çš„ tokenization éœ€è¦æ»¡è¶³ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å®ƒèƒ½å¤Ÿåœ¨ä¸éœ€è¦æ— é™è¯æ±‡è¡¨çš„æƒ…å†µä¸‹å¤„ç†ç¼ºå¤±çš„æ ‡è®°ï¼Œå³é€šè¿‡æœ‰é™çš„å·²çŸ¥å•è¯åˆ—è¡¨æ¥å¤„ç†æ— é™çš„æ½œåœ¨è¯æ±‡ï¼›")]),t._v(" "),a("li",[t._v("æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å°†æ‰€æœ‰å†…å®¹åˆ†è§£ä¸ºå•ä¸ªå­—ç¬¦çš„é¢å¤–å¤æ‚æ€§ï¼Œå› ä¸ºå­—ç¬¦çº§åˆ«å¯èƒ½ä¼šä¸¢å¤±å•è¯çº§åˆ«çš„ä¸€äº›å«ä¹‰å’Œè¯­ä¹‰ç»†èŠ‚ã€‚")])]),t._v(" "),a("p",[t._v("ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä½•é‡æ–°åˆ©ç”¨ã€å°ã€å•è¯æ¥åˆ›å»ºã€å¤§ã€å•è¯ã€‚"),a("mark",[t._v("Subword Tokenization")]),t._v(" ä¸è½¬æ¢æœ€å¸¸è§çš„å•è¯ï¼Œè€Œæ˜¯å°†ç¨€æœ‰å•è¯åˆ†è§£æˆæœ‰æ„ä¹‰çš„å­è¯å•å…ƒã€‚å¦‚æœ"),a("code",[t._v("unfriendly")]),t._v("è¢«æ ‡è®°ä¸ºä¸€ä¸ªç¨€æœ‰è¯ï¼Œå®ƒå°†è¢«åˆ†è§£ä¸º"),a("code",[t._v("un-friendly-ly")]),t._v("ï¼Œè¿™äº›å•ä½éƒ½æ˜¯æœ‰æ„ä¹‰çš„å•ä½ï¼Œ"),a("code",[t._v("un")]),t._v("çš„æ„æ€æ˜¯ç›¸åçš„ï¼Œ"),a("code",[t._v("friend")]),t._v("æ˜¯ä¸€ä¸ªåè¯ï¼Œ"),a("code",[t._v("ly")]),t._v("åˆ™å˜æˆå‰¯è¯ã€‚è¿™é‡Œçš„æŒ‘æˆ˜æ˜¯å¦‚ä½•è¿›è¡Œç»†åˆ†ï¼Œæˆ‘ä»¬å¦‚ä½•è·å¾—"),a("code",[t._v("un-friend-ly")]),t._v("è€Œä¸æ˜¯"),a("code",[t._v("unfr-ien-dly")]),t._v("ã€‚")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20230106223224223.png",alt:"image-20230106223224223"}})]),t._v(" "),a("p",[t._v("åŸºäº subword çš„ tokenization ç®—æ³•ä¸¤å¤§åŸåˆ™ï¼Œä¹Ÿæ˜¯æ ¸å¿ƒä¼˜ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åŸåˆ™ 1")]),t._v("ï¼šä¸è¦å°†å¸¸ç”¨è¯æ‹†åˆ†æˆæ›´å°çš„å­è¯ã€‚ä¾‹å¦‚ï¼Œâ€œboyâ€ä¸åº”æ‹†åˆ†ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("åŸåˆ™ 2")]),t._v("ï¼šå°†ç¨€æœ‰è¯æ‹†åˆ†æˆæ›´å°çš„æœ‰æ„ä¹‰çš„å­è¯ã€‚ä½†â€œboysâ€åº”æ‹†åˆ†ä¸ºâ€œboyâ€å’Œâ€œsâ€ï¼Œè¯ä¹‰ç•¥æœ‰ä¸åŒï¼Œä½†è¯æ ¹ç›¸åŒã€‚")])]),t._v(" "),a("p",[t._v("subword çš„ä¸¤ä¸ªåŸåˆ™èƒ½å¤Ÿç»§ç»­æœ‰æ•ˆæå‡ tokenization æ•ˆæœï¼Œæ—¢æ»¡è¶³ vocabulary ä¸å¤ªå¤§ï¼Œåˆæ»¡è¶³è¯­ä¹‰ç›¸ä¼¼æ€§è¦æ±‚ã€‚å®ƒç”šè‡³å¯ä»¥å¤„ç†å®ƒä»¥å‰ä»æœªè§è¿‡çš„ wordï¼Œå› ä¸ºåˆ†è§£ä¼šäº§ç”Ÿå·²çŸ¥çš„ subwordï¼Œä»è€Œæ–¹ä¾¿åç»­æ¨¡å‹çš„å¤„ç†ã€‚")]),t._v(" "),a("p",[t._v("NLPæœ€ç«çš„ç½‘çº¢ Transformer å’Œ BERT å°±æ˜¯ Subword çš„å¸¦ç›äººï¼Œæ¥çœ‹ä¸ªå®ƒä»¬åš tokenization çš„æ —å­ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("I have a new GPU  ----\x3e [â€™iâ€™, â€™haveâ€™, â€™aâ€™, â€™newâ€™, â€™gpâ€™, â€™##uâ€™, â€™.â€™]")])]),t._v(" "),a("p",[t._v("subword ç²’åº¦åˆ‡åˆ†ç®—æ³•åˆæœ‰ä»¥ä¸‹å‡ ç§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("BPE")]),t._v(" "),a("li",[t._v("WordPiece")]),t._v(" "),a("li",[t._v("ULM")]),t._v(" "),a("li",[t._v("SentencePiece")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("BERT å’Œ DistilBert ä½¿ç”¨äº† WordPiece")]),t._v(" "),a("li",[t._v("XLNet å’Œ ALBERT ä½¿ç”¨äº† Unigram")]),t._v(" "),a("li",[t._v("GPT-2 å’Œ RoBERTa ä½¿ç”¨äº† BPE")]),t._v(" "),a("li",[t._v("XLM ä½¿ç”¨äº† SentencePiece å¹¶ä¸ºä¸­æ–‡ã€æ—¥æ–‡å’Œæ³°æ–‡æ·»åŠ ç‰¹å®šçš„é¢„åˆ†è¯å™¨ã€‚")])])]),t._v(" "),a("h3",{attrs:{id:"_3-1-bpe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-bpe"}},[t._v("#")]),t._v(" 3.1 BPE")]),t._v(" "),a("p",[a("mark",[t._v("BPE")]),t._v(" å…¨ç§° "),a("strong",[t._v("B")]),t._v("yte "),a("strong",[t._v("P")]),t._v("air "),a("strong",[t._v("E")]),t._v("ncodingï¼Œå­—èŠ‚å¯¹ç¼–ç ï¼Œé¦–å…ˆåœ¨ Neural Machine Translation of Rare Words with Subword Units"),a("sup",[t._v("[2]")]),t._v(" ä¸­æå‡ºã€‚BPE è¿­ä»£åœ°åˆå¹¶æœ€é¢‘ç¹å‡ºç°çš„å­—ç¬¦æˆ–å­—ç¬¦åºåˆ—ï¼Œå…·ä½“æ­¥éª¤ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å‡†å¤‡è¶³å¤Ÿå¤§çš„ corpus")]),t._v(" "),a("li",[t._v("å®šä¹‰å¥½æ‰€éœ€è¦çš„ vocabulary å¤§å°")]),t._v(" "),a("li",[t._v("åœ¨æ¯ä¸ª word æœ«å°¾æ·»åŠ åç¼€ "),a("code",[t._v("</w>")])]),t._v(" "),a("li",[t._v("å°†å•è¯æ‹†åˆ†ä¸ºå­—ç¬¦åºåˆ—ï¼Œå¹¶ç»Ÿè®¡å•è¯é¢‘ç‡ã€‚æœ¬é˜¶æ®µçš„ subword çš„ç²’åº¦æ˜¯å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œlowâ€çš„é¢‘ç‡ä¸º 5ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å…¶æ”¹å†™ä¸º "),a("code",[t._v("l o w </w>ï¼š5")])]),t._v(" "),a("li",[t._v("ç»Ÿè®¡æ¯ä¸€ä¸ªè¿ç»­å­—èŠ‚å¯¹çš„å‡ºç°é¢‘ç‡ï¼Œé€‰æ‹©æœ€é«˜é¢‘è€…åˆå¹¶æˆæ–°çš„ subword")]),t._v(" "),a("li",[t._v("é‡å¤ç¬¬ 5 æ­¥ç›´åˆ°è¾¾åˆ°ç¬¬ 2 æ­¥è®¾å®šçš„ subword è¯è¡¨å¤§å°æˆ–ä¸‹ä¸€ä¸ªæœ€é«˜é¢‘çš„å­—èŠ‚å¯¹å‡ºç°é¢‘ç‡ä¸º 1")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥ BPE ç®—æ³•å°±æ˜¯è¿­ä»£çš„æ¯ä¸€è½®éƒ½å¯»æ‰¾æœ€é¢‘ç¹çš„é…å¯¹ï¼ˆbyte pairï¼‰ï¼Œç„¶åå°†ä»–ä»¬åˆå¹¶ï¼Œç›´åˆ°è¾¾åˆ° token é™åˆ¶æˆ–è¿­ä»£é™åˆ¶ã€‚")]),t._v(" "),a("p",[t._v("ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¾“å…¥ï¼š")]),t._v(" "),a("p",[a("code",[t._v("{'l o w </w>': 5, 'l o w e r </w>': 2, 'n e w e s t </w>': 6, 'w i d e s t </w>': 3}")])]),t._v(" "),a("p",[t._v("ç¬¬ä¸€è½®è¿­ä»£ï¼Œç»Ÿè®¡è¿ç»­çš„æ¯ä¸¤ä¸ªå­—èŠ‚å‡ºç°çš„æ¬¡æ•°ï¼Œå‘ç° "),a("code",[t._v("e")]),t._v(" å’Œ "),a("code",[t._v("s")]),t._v(" å…±ç°æ¬¡æ•°æœ€å¤§ï¼Œåˆå¹¶æˆ "),a("code",[t._v("es")]),t._v("ï¼Œæœ‰ï¼š")]),t._v(" "),a("p",[a("code",[t._v("{'l o w </w>': 5, 'l o w e r </w>': 2, 'n e w es t </w>': 6, 'w i d es t </w>': 3}")])]),t._v(" "),a("p",[t._v("ç¬¬äºŒè½®è¿­ä»£ï¼Œç»Ÿè®¡è¿ç»­çš„æ¯ä¸¤ä¸ªå­—èŠ‚å‡ºç°çš„æ¬¡æ•°ï¼Œå‘ç° es å’Œ t å…±ç°æ¬¡æ•°æœ€å¤§ï¼Œåˆå¹¶æˆ "),a("code",[t._v("est")]),t._v("ï¼Œæœ‰ï¼š")]),t._v(" "),a("p",[a("code",[t._v("{'l o w </w>': 5, 'l o w e r </w>': 2, 'n e w est </w>': 6, 'w i d est </w>': 3}")])]),t._v(" "),a("p",[t._v("ä¾æ¬¡ç»§ç»­è¿­ä»£ç›´åˆ°è¾¾åˆ°é¢„è®¾çš„ subword è¯è¡¨å¤§å°æˆ–ä¸‹ä¸€ä¸ªæœ€é«˜é¢‘çš„å­—èŠ‚å¯¹å‡ºç°é¢‘ç‡ä¸º 1ã€‚")]),t._v(" "),a("p",[t._v("ä»¥ä¸Šæ˜¯ BPE çš„æ•´ä½“æµç¨‹ï¼Œå…³äº BPE æ›´å¤šç»†èŠ‚å¯ä»¥å‚è€ƒï¼šByte Pair Encoding"),a("sup",[t._v("[3]")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-2-unigram-lm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-unigram-lm"}},[t._v("#")]),t._v(" 3.2 Unigram LM")]),t._v(" "),a("p",[a("mark",[t._v("Unigram è¯­è¨€å»ºæ¨¡")]),t._v("é¦–å…ˆåœ¨ Subword Regularization: Improving Neural Network Translation Models with Multiple Subword Candidates"),a("sup",[t._v("[4]")]),t._v(" ä¸­æå‡ºï¼ŒåŸºäºæ‰€æœ‰å­è¯å‡ºç°æ˜¯ç‹¬ç«‹çš„å‡è®¾ï¼Œå› æ­¤å­è¯åºåˆ—ç”±å­è¯å‡ºç°æ¦‚ç‡çš„ä¹˜ç§¯ç”Ÿæˆã€‚")]),t._v(" "),a("p",[t._v("ç®—æ³•æ­¥éª¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å‡†å¤‡è¶³å¤Ÿå¤§çš„ corpus")]),t._v(" "),a("li",[t._v("å®šä¹‰å¥½æ‰€éœ€è¦çš„ vocabulary å¤§å°")]),t._v(" "),a("li",[t._v("æ ¹æ®è®­ç»ƒè¯­æ–™è®¾ç½®ä¸€ä¸ªåˆç†çš„ seed è¯è¡¨")]),t._v(" "),a("li",[t._v("ç»™å®šè¯åºåˆ—ä¼˜åŒ–ä¸‹ä¸€ä¸ªè¯å‡ºç°çš„æ¦‚ç‡")]),t._v(" "),a("li",[t._v("è®¡ç®—æ¯ä¸ª subword "),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-msub",[a("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[a("mjx-c",{attrs:{c:"x"}})],1),a("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[a("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[a("mjx-c",{attrs:{c:"i"}})],1)],1)],1)],1)],1),t._v(" çš„æŸå¤± "),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"l"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"o"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-msub",[a("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[a("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[a("mjx-c",{attrs:{c:"i"}})],1)],1)],1)],1)],1),t._v("ï¼Œè¿™é‡Œçš„ "),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"l"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"o"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-msub",[a("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[a("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[a("mjx-c",{attrs:{c:"i"}})],1)],1)],1)],1)],1),t._v(" è¡¨ç¤ºå½“ subword "),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-msub",[a("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[a("mjx-c",{attrs:{c:"x"}})],1),a("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[a("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[a("mjx-c",{attrs:{c:"i"}})],1)],1)],1)],1)],1),t._v(" è¢«ç§»å‡ºå½“å‰è¯è¡¨çš„æ—¶å€™ï¼Œä¼¼ç„¶å‡½æ•°å‡å°çš„å¯èƒ½æ€§ã€‚")],1),t._v(" "),a("li",[t._v("åŸºäºæŸå¤± "),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"l"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"o"}})],1),a("mjx-mi",{staticClass:"mjx-i"},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-msub",[a("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[a("mjx-c",{attrs:{c:"s"}})],1),a("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[a("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[a("mjx-c",{attrs:{c:"i"}})],1)],1)],1)],1)],1),t._v(" å¯¹subwordæ’åºå¹¶ä¿ç•™å‰ X% çš„ subwordã€‚ä¸ºäº†é¿å… OOVï¼Œä¿ç•™å­—ç¬¦çº§çš„å•å…ƒ")],1),t._v(" "),a("li",[t._v("é‡å¤ç¬¬ 3 è‡³ç¬¬ 5 æ­¥ç›´åˆ°è¾¾åˆ°ç¬¬ 2 æ­¥è®¾å®šçš„ subword è¯è¡¨å¤§å°æˆ–ç¬¬ 5 æ­¥çš„ç»“æœä¸å†å˜åŒ–")])]),t._v(" "),a("p",[t._v("è¿™é‡Œæœ‰ä¸€äº›é€‰æ‹© seed è¯è¡¨çš„æ–¹æ³•ï¼Œå¸¸ç”¨æ–¹æ³•æ˜¯ç»“åˆè¯­æ–™ä¸­æ‰€æœ‰å­—ç¬¦å’Œæœ€é«˜é¢‘çš„å­å­—ç¬¦ä¸²ã€‚è€Œä¸”æœ€ç»ˆçš„è¯è¡¨ä¹Ÿè¦åŒ…å«æ‰€æœ‰ç‹¬ç«‹çš„å­—ç¬¦ã€‚å› æ­¤è¿™ç§åˆ†å‰²å¯ä»¥çœ‹ä½œæ˜¯å­—ç¬¦ã€subword å’Œ word çš„æ¦‚ç‡æ··åˆã€‚")]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹å‡ºï¼ŒUnigram LM æ˜¯ä»ä¸€å¤§å †åŸºæœ¬ç¬¦å·å¼€å§‹ï¼Œå¹¶é€è½®å‡å°‘è¯è¡¨çš„å¤§å°ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-3-wordpiece"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-wordpiece"}},[t._v("#")]),t._v(" 3.3 WordPiece")]),t._v(" "),a("p",[a("mark",[t._v("WordPiece")]),t._v(" é¦–å…ˆåœ¨ JAPANESE AND KOREAN VOICE SEARCH"),a("sup",[t._v("[5]")]),t._v(" ä¸­æå‡ºï¼Œæœ€åˆç”¨äºè§£å†³æ—¥è¯­å’ŒéŸ©è¯­è¯­éŸ³é—®é¢˜ã€‚å®ƒåœ¨è®¸å¤šæ–¹é¢ç±»ä¼¼äºBPEï¼Œåªæ˜¯å®ƒåŸºäºå¯èƒ½æ€§è€Œä¸æ˜¯ä¸‹ä¸€ä¸ªæœ€é«˜é¢‘ç‡å¯¹æ¥å½¢æˆä¸€ä¸ªæ–°çš„å­è¯ã€‚ç®—æ³•æ­¥éª¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å‡†å¤‡è¶³å¤Ÿå¤§çš„ corpus")]),t._v(" "),a("li",[t._v("å®šä¹‰å¥½æ‰€éœ€è¦çš„ vocabulary å¤§å°")]),t._v(" "),a("li",[t._v("å°†å•è¯æ‹†åˆ†æˆå­—ç¬¦åºåˆ—")]),t._v(" "),a("li",[t._v("åŸºäºç¬¬ 3 æ­¥æ•°æ®è®­ç»ƒè¯­è¨€æ¨¡å‹")]),t._v(" "),a("li",[t._v("ä»æ‰€æœ‰å¯èƒ½çš„ subword å•å…ƒä¸­é€‰æ‹©åŠ å…¥è¯­è¨€æ¨¡å‹åèƒ½æœ€å¤§ç¨‹åº¦åœ°å¢åŠ è®­ç»ƒæ•°æ®æ¦‚ç‡çš„å•å…ƒä½œä¸ºæ–°çš„å•å…ƒ")]),t._v(" "),a("li",[t._v("é‡å¤ç¬¬ 5 æ­¥ç›´åˆ°è¾¾åˆ°ç¬¬ 2 æ­¥è®¾å®šçš„ subword è¯è¡¨å¤§å°æˆ–æ¦‚ç‡å¢é‡ä½äºæŸä¸€é˜ˆå€¼")])]),t._v(" "),a("p",[t._v("WordPiece æ›´åƒæ˜¯ BPE å’Œ Unigram LM çš„ç»“åˆã€‚")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Summary")]),t._v(" "),a("p",[t._v("ç®€å•å‡ å¥è¯æ€»ç»“ä¸‹ Subword çš„ä¸‰ç§ç®—æ³•ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("BPEï¼šåªéœ€åœ¨æ¯æ¬¡è¿­ä»£ä¸­ä½¿ç”¨ã€Œå‡ºç°é¢‘ç‡ã€æ¥ç¡®å®šæœ€ä½³åŒ¹é…ï¼Œç›´åˆ°è¾¾åˆ°é¢„å®šä¹‰çš„è¯æ±‡è¡¨å¤§å°ï¼›")]),t._v(" "),a("li",[t._v("Unigramï¼šä½¿ç”¨æ¦‚ç‡æ¨¡å‹è®­ç»ƒLMï¼Œç§»é™¤æé«˜æ•´ä½“å¯èƒ½æ€§æœ€å°çš„tokenï¼›ç„¶åè¿­ä»£è¿›è¡Œï¼Œç›´åˆ°è¾¾åˆ°é¢„å®šä¹‰çš„è¯æ±‡è¡¨å¤§å°ï¼›")]),t._v(" "),a("li",[t._v("WordPieceï¼šç»“åˆ BPE ä¸ Unigramï¼Œä½¿ç”¨ã€Œå‡ºç°é¢‘ç‡ã€æ¥ç¡®å®šæ½œåœ¨åŒ¹é…ï¼Œä½†æ ¹æ®åˆå¹¶ token çš„æ¦‚ç‡åšå‡ºæœ€ç»ˆå†³å®š.")])])]),t._v(" "),a("h3",{attrs:{id:"_3-4-sentencepiece"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-sentencepiece"}},[t._v("#")]),t._v(" 3.4 SentencePiece")]),t._v(" "),a("p",[t._v("åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¯ä»¥å‘ç° subword ç»“åˆäº†è¯ç²’åº¦å’Œå­—ç²’åº¦æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œå¹¶é¿å…äº†å…¶ä¸è¶³ã€‚ä½†æ˜¯ï¼Œä»”ç»†æƒ³ä¼šå‘ç°ä¸Šè¿°ä¸‰ç§ subword ç®—æ³•éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("éƒ½éœ€è¦æå‰åˆ‡åˆ†ï¼ˆpretokenizationï¼‰ï¼šè¿™å¯¹äºæŸäº›è¯­è¨€æ¥è¯´ï¼Œå¯èƒ½æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºä¸å¯ä»¥ç”¨ç©ºæ ¼æ¥åˆ†éš”å•è¯ï¼›")]),t._v(" "),a("li",[t._v("æ— æ³•é€†è½¬ï¼šåŸå§‹è¾“å…¥å’Œåˆ‡åˆ†ååºåˆ—æ˜¯ä¸å¯é€†çš„ã€‚ä¸¾ä¸ªæ —å­ï¼Œä¸‹é¢ä¸¤è€…çš„ç»“æœæ˜¯ç›¸ç­‰çš„ï¼Œå³ç©ºæ ¼çš„ä¿¡æ¯ç»è¿‡è¯¥æ“ä½œè¢«ä¸¢å¤±ï¼š")])]),t._v(" "),a("blockquote",[a("p",[t._v("Tokenize(â€œWorld.â€) == Tokenize(â€œWorld .â€)")])]),t._v(" "),a("ul",[a("li",[t._v("ä¸æ˜¯ end-to-endï¼šä½¿ç”¨èµ·æ¥æ²¡æœ‰é‚£ä¹ˆæ–¹ä¾¿")])]),t._v(" "),a("p",[t._v("okï¼Œhere comes "),a("mark",[t._v("SentencePiece")]),t._v("ï¼æ¥çœ‹çœ‹æ˜¯æ€ä¹ˆè§£å†³ä¸Šè¿°é—®é¢˜çš„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("SentencePiece é¦–å…ˆå°†æ‰€æœ‰è¾“å…¥è½¬æ¢ä¸º unicode å­—ç¬¦ã€‚è¿™æ„å‘³ç€å®ƒä¸å¿…æ‹…å¿ƒä¸åŒçš„è¯­è¨€ã€å­—ç¬¦æˆ–ç¬¦å·ï¼Œå¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†æ‰€æœ‰è¾“å…¥ï¼›")]),t._v(" "),a("li",[t._v("ç©ºç™½ä¹Ÿè¢«å½“ä½œæ™®é€šç¬¦å·æ¥å¤„ç†ã€‚Sentencepiece æ˜¾å¼åœ°å°†ç©ºç™½ä½œä¸ºåŸºæœ¬ token æ¥å¤„ç†ï¼Œç”¨ä¸€ä¸ªå…ƒç¬¦å· â€œâ–â€ï¼ˆ U+2581 ï¼‰è½¬ä¹‰ç©ºç™½ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ç®€å•åœ° decoding")]),t._v(" "),a("li",[t._v("SentencePiece å¯ä»¥ç›´æ¥ä» raw text è¿›è¡Œè®­ç»ƒï¼Œå¹¶ä¸”å®˜æ–¹ç§°éå¸¸å¿«ï¼")])]),t._v(" "),a("p",[t._v("SentencePiece é›†æˆäº†ä¸¤ç§ subword ç®—æ³•ï¼ŒBPE å’Œ UniLMï¼Œ WordPiece åˆ™æ˜¯è°·æ­Œå†…éƒ¨çš„å­è¯åŒ…ï¼Œæ²¡å¯¹å¤–å…¬å¼€ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥å»å®˜æ–¹å¼€æºä»£ç åº“ç©ç©ï¼šgoogle/sentencepiece"),a("sup",[t._v("[6]")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æ”¾ä¸ªæ —å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sentencepiece "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" spm\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" spm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SentencePieceProcessor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'spm.model'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("     s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New York'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" out_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" enable_sampling"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alpha"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nbest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'N'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–York'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–York'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–Y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'o'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'k'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–York'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'New'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'â–York'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("æœ€åï¼Œå¦‚æœæƒ³å°è¯• "),a("code",[t._v("WordPiece")]),t._v("ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥è¯•è¯• HuggingFace çš„ Tokenization åº“"),a("sup",[t._v("[7]")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tokenizers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Tokenizer\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tokenizers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BPE\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tokenizers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pre_tokenizers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Whitespace\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tokenizers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("trainers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BpeTrainer\n\ntokenizer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BPE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pre_tokenizer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Whitespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntrainer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BpeTrainer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("special_tokens"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[UNK]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[CLS]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[SEP]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[PAD]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[MASK]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("trainer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wiki.train.raw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wiki.valid.raw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wiki.test.raw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\noutput "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, y\'all! How are you ğŸ˜ ?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tokens"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ["Hello", ",", "y", "\'", "all", "!", "How", "are", "you", "[UNK]", "?"]')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("blockquote",[a("p",[t._v("å‚è€ƒèµ„æ–™ï¼š")]),t._v(" "),a("p",[t._v("[1] 2015å¹´Karpathy: https://github.com/karpathy/char-rnn")]),t._v(" "),a("p",[t._v("[2] Neural Machine Translation of Rare Words with Subword Units: https://arxiv.org/abs/1508.07909")]),t._v(" "),a("p",[t._v("[3] Byte Pair Encoding: https://leimao.github.io/blog/Byte-Pair-Encoding/")]),t._v(" "),a("p",[t._v("[4] Subword Regularization: Improving Neural Network Translation Models with Multiple Subword Candidates: https://arxiv.org/abs/1804.10959")]),t._v(" "),a("p",[t._v("[5] JAPANESE AND KOREAN VOICE SEARCH: https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/37842.pdf")]),t._v(" "),a("p",[t._v("[6] google/sentencepiece: https://github.com/google/sentencepiece")]),t._v(" "),a("p",[t._v("[7] HuggingFaceçš„ Tokenization åº“: https://github.com/huggingface/tokenizers")])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);