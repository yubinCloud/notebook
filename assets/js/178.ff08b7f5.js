(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{934:function(t,s,a){"use strict";a.r(s);var n=a(22),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("为什么需要线程池呢？当短时间有大量任务到来时，"),a("strong",[t._v("突然创建大量的线程是不明智的，因为 CPU 的核就那么几个")]),t._v("，所以再多的线程对性能的提高也无益，反而会因为过多的上下文切换导致性能的下降。于是利用享元模式的思想，产生了“线程池”：")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230711224438.png",alt:"20230711224438"}})]),t._v(" "),a("p",[a("strong",[t._v("线程池")]),t._v("其实就是创建一批线程，并能使这些线程能够重复利用。在学习 JDK 的线程池之前，我们先自己实现一个简单的线程池。架构图如上图。")]),t._v(" "),a("h2",{attrs:{id:"_1-自定义线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-自定义线程池"}},[t._v("#")]),t._v(" 1. 自定义线程池")]),t._v(" "),a("h3",{attrs:{id:"步骤-1-定义拒绝策略-rejectpolicy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-定义拒绝策略-rejectpolicy"}},[t._v("#")]),t._v(" 步骤 1：定义拒绝策略 RejectPolicy")]),t._v(" "),a("p",[t._v("当任务队列满了的时候，如果生产者想要往里面继续放 task 时，我们可以为其定义多种行为，例如：")]),t._v(" "),a("ul",[a("li",[t._v("死等")]),t._v(" "),a("li",[t._v("带超时的等待")]),t._v(" "),a("li",[t._v("让调用者放弃任务执行")]),t._v(" "),a("li",[t._v("让调用者抛出异常")]),t._v(" "),a("li",[t._v("让调用者自己执行任务")])]),t._v(" "),a("p",[t._v("为了让上面这些行为能够灵活配置，我们需要使用策略模式将这些行为抽象出来，形成 RejectPolicy：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tobestronger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("n8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("_8_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 任务拒绝策略\n *\n * @param <T>\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FunctionalInterface")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectPolicy")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h3",{attrs:{id:"步骤-2-自定义任务队列-blockingqueue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-自定义任务队列-blockingqueue"}},[t._v("#")]),t._v(" 步骤 2：自定义任务队列 BlockingQueue")]),t._v(" "),a("p",[a("code",[t._v("BlockingQueue")]),t._v(" 用于存放任务，生产者可以追加任务，消费者可以取出任务。")]),t._v(" "),a("p",[t._v("但注意，在队列满了的时候，生产者再想追加就要等待；同理，当队列为空时，消费者再想取走也是需要等待。")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("BlockingQueue 实现")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tobestronger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("n8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("_8_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("lombok"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("slf4j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Slf4j")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayDeque")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deque")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 任务队列\n *\n * @param <T>\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.BlockingQueue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 任务队列")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deque")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayDeque")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 锁")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),t._v(" lock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 生产者条件变量，生产者需要等待时依靠这个")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")]),t._v(" fullWaitSet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. 消费者条件变量，消费者需要等待时依靠这个")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")]),t._v(" emptyWaitSet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5. 容量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"构造BlockingQueue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capcity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻塞获取")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    emptyWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("await")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeFirst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            fullWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻塞添加")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"等待加入任务队列 {} ..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    fullWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("await")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加入任务队列 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLast")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            emptyWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 带超时阻塞获取")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 timeout 统一转换为 纳秒")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回值是剩余时间")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emptyWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awaitNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nanos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeFirst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            fullWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 带超时时间阻塞添加")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"等待加入任务队列 {} ..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    nanos "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fullWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awaitNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nanos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加入任务队列 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLast")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            emptyWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tryPut")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectPolicy")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断队列是否满")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" capcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"队列已满,按照拒绝策略处理任务 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 有空闲")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"队列未满,加入任务队列 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLast")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                emptyWaitSet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br"),a("span",{staticClass:"line-number"},[t._v("78")]),a("br"),a("span",{staticClass:"line-number"},[t._v("79")]),a("br"),a("span",{staticClass:"line-number"},[t._v("80")]),a("br"),a("span",{staticClass:"line-number"},[t._v("81")]),a("br"),a("span",{staticClass:"line-number"},[t._v("82")]),a("br"),a("span",{staticClass:"line-number"},[t._v("83")]),a("br"),a("span",{staticClass:"line-number"},[t._v("84")]),a("br"),a("span",{staticClass:"line-number"},[t._v("85")]),a("br"),a("span",{staticClass:"line-number"},[t._v("86")]),a("br"),a("span",{staticClass:"line-number"},[t._v("87")]),a("br"),a("span",{staticClass:"line-number"},[t._v("88")]),a("br"),a("span",{staticClass:"line-number"},[t._v("89")]),a("br"),a("span",{staticClass:"line-number"},[t._v("90")]),a("br"),a("span",{staticClass:"line-number"},[t._v("91")]),a("br"),a("span",{staticClass:"line-number"},[t._v("92")]),a("br"),a("span",{staticClass:"line-number"},[t._v("93")]),a("br"),a("span",{staticClass:"line-number"},[t._v("94")]),a("br"),a("span",{staticClass:"line-number"},[t._v("95")]),a("br"),a("span",{staticClass:"line-number"},[t._v("96")]),a("br"),a("span",{staticClass:"line-number"},[t._v("97")]),a("br"),a("span",{staticClass:"line-number"},[t._v("98")]),a("br"),a("span",{staticClass:"line-number"},[t._v("99")]),a("br"),a("span",{staticClass:"line-number"},[t._v("100")]),a("br"),a("span",{staticClass:"line-number"},[t._v("101")]),a("br"),a("span",{staticClass:"line-number"},[t._v("102")]),a("br"),a("span",{staticClass:"line-number"},[t._v("103")]),a("br"),a("span",{staticClass:"line-number"},[t._v("104")]),a("br"),a("span",{staticClass:"line-number"},[t._v("105")]),a("br"),a("span",{staticClass:"line-number"},[t._v("106")]),a("br"),a("span",{staticClass:"line-number"},[t._v("107")]),a("br"),a("span",{staticClass:"line-number"},[t._v("108")]),a("br"),a("span",{staticClass:"line-number"},[t._v("109")]),a("br"),a("span",{staticClass:"line-number"},[t._v("110")]),a("br"),a("span",{staticClass:"line-number"},[t._v("111")]),a("br"),a("span",{staticClass:"line-number"},[t._v("112")]),a("br"),a("span",{staticClass:"line-number"},[t._v("113")]),a("br"),a("span",{staticClass:"line-number"},[t._v("114")]),a("br"),a("span",{staticClass:"line-number"},[t._v("115")]),a("br"),a("span",{staticClass:"line-number"},[t._v("116")]),a("br"),a("span",{staticClass:"line-number"},[t._v("117")]),a("br"),a("span",{staticClass:"line-number"},[t._v("118")]),a("br"),a("span",{staticClass:"line-number"},[t._v("119")]),a("br"),a("span",{staticClass:"line-number"},[t._v("120")]),a("br"),a("span",{staticClass:"line-number"},[t._v("121")]),a("br"),a("span",{staticClass:"line-number"},[t._v("122")]),a("br"),a("span",{staticClass:"line-number"},[t._v("123")]),a("br"),a("span",{staticClass:"line-number"},[t._v("124")]),a("br"),a("span",{staticClass:"line-number"},[t._v("125")]),a("br"),a("span",{staticClass:"line-number"},[t._v("126")]),a("br"),a("span",{staticClass:"line-number"},[t._v("127")]),a("br"),a("span",{staticClass:"line-number"},[t._v("128")]),a("br"),a("span",{staticClass:"line-number"},[t._v("129")]),a("br"),a("span",{staticClass:"line-number"},[t._v("130")]),a("br"),a("span",{staticClass:"line-number"},[t._v("131")]),a("br"),a("span",{staticClass:"line-number"},[t._v("132")]),a("br"),a("span",{staticClass:"line-number"},[t._v("133")]),a("br"),a("span",{staticClass:"line-number"},[t._v("134")]),a("br"),a("span",{staticClass:"line-number"},[t._v("135")]),a("br"),a("span",{staticClass:"line-number"},[t._v("136")]),a("br"),a("span",{staticClass:"line-number"},[t._v("137")]),a("br"),a("span",{staticClass:"line-number"},[t._v("138")]),a("br"),a("span",{staticClass:"line-number"},[t._v("139")]),a("br"),a("span",{staticClass:"line-number"},[t._v("140")]),a("br"),a("span",{staticClass:"line-number"},[t._v("141")]),a("br"),a("span",{staticClass:"line-number"},[t._v("142")]),a("br"),a("span",{staticClass:"line-number"},[t._v("143")]),a("br"),a("span",{staticClass:"line-number"},[t._v("144")]),a("br"),a("span",{staticClass:"line-number"},[t._v("145")]),a("br"),a("span",{staticClass:"line-number"},[t._v("146")]),a("br"),a("span",{staticClass:"line-number"},[t._v("147")]),a("br"),a("span",{staticClass:"line-number"},[t._v("148")]),a("br"),a("span",{staticClass:"line-number"},[t._v("149")]),a("br"),a("span",{staticClass:"line-number"},[t._v("150")]),a("br"),a("span",{staticClass:"line-number"},[t._v("151")]),a("br"),a("span",{staticClass:"line-number"},[t._v("152")]),a("br"),a("span",{staticClass:"line-number"},[t._v("153")]),a("br"),a("span",{staticClass:"line-number"},[t._v("154")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"步骤-3-自定义线程池-threadpool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-自定义线程池-threadpool"}},[t._v("#")]),t._v(" 步骤 3：自定义线程池 ThreadPool")]),t._v(" "),a("p",[t._v("这里将线程 Thread 封装为 Worker 方便管理。")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ThreadPool 实现")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tobestronger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("n8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("_8_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("lombok"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("slf4j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Slf4j")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashSet")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.ThreadPool"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPool")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 任务队列")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" taskQueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 线程集合")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" workers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心线程数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" coreSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取任务时的超时时间")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 拒绝策略\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectPolicy")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行任务")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"接收到任务需要执行: "')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当任务数没有超过 coreSize 时，直接交给 worker 对象执行")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果任务数超过 coreSize 时，加入任务队列暂存")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("workers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("workers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" coreSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"coreSize未满"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),t._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"新增 worker  {} 来执行任务 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                workers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"coreSize已经满了!!!!!,尝试先将任务放入队列 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                taskQueue.put(task);")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1) 死等")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2) 带超时等待")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3) 让调用者放弃任务执行")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4) 让调用者抛出异常")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5) 让调用者自己执行任务")]),t._v("\n                taskQueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tryPut")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" coreSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" queueCapcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectPolicy")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"构造ThreadPool"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coreSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" coreSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeUnit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("taskQueue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queueCapcity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rejectPolicy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rejectPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 工作线程\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n         * 执行任务主体\n         */")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n         * 执行已有任务或从队列中获取一个任务执行.\n         * 如果都执行完了,就结束线程\n         */")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"跑起来了,让我看看有没有task来做"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行任务")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1) 当 task 不为空，执行任务")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2) 当 task 执行完毕，再接着从任务队列获取任务并执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            while(task != null || (task = taskQueue.take()) != null) {")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" taskQueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"获取到任务了,正在执行...{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"搞定一个任务 {},尝试获取新任务执行"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("workers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"worker 因长时间没有可执行任务 将被释放 {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                workers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br"),a("span",{staticClass:"line-number"},[t._v("78")]),a("br"),a("span",{staticClass:"line-number"},[t._v("79")]),a("br"),a("span",{staticClass:"line-number"},[t._v("80")]),a("br"),a("span",{staticClass:"line-number"},[t._v("81")]),a("br"),a("span",{staticClass:"line-number"},[t._v("82")]),a("br"),a("span",{staticClass:"line-number"},[t._v("83")]),a("br"),a("span",{staticClass:"line-number"},[t._v("84")]),a("br"),a("span",{staticClass:"line-number"},[t._v("85")]),a("br"),a("span",{staticClass:"line-number"},[t._v("86")]),a("br"),a("span",{staticClass:"line-number"},[t._v("87")]),a("br"),a("span",{staticClass:"line-number"},[t._v("88")]),a("br"),a("span",{staticClass:"line-number"},[t._v("89")]),a("br"),a("span",{staticClass:"line-number"},[t._v("90")]),a("br"),a("span",{staticClass:"line-number"},[t._v("91")]),a("br"),a("span",{staticClass:"line-number"},[t._v("92")]),a("br"),a("span",{staticClass:"line-number"},[t._v("93")]),a("br"),a("span",{staticClass:"line-number"},[t._v("94")]),a("br"),a("span",{staticClass:"line-number"},[t._v("95")]),a("br"),a("span",{staticClass:"line-number"},[t._v("96")]),a("br"),a("span",{staticClass:"line-number"},[t._v("97")]),a("br"),a("span",{staticClass:"line-number"},[t._v("98")]),a("br"),a("span",{staticClass:"line-number"},[t._v("99")]),a("br"),a("span",{staticClass:"line-number"},[t._v("100")]),a("br"),a("span",{staticClass:"line-number"},[t._v("101")]),a("br"),a("span",{staticClass:"line-number"},[t._v("102")]),a("br"),a("span",{staticClass:"line-number"},[t._v("103")]),a("br"),a("span",{staticClass:"line-number"},[t._v("104")]),a("br"),a("span",{staticClass:"line-number"},[t._v("105")]),a("br"),a("span",{staticClass:"line-number"},[t._v("106")]),a("br"),a("span",{staticClass:"line-number"},[t._v("107")]),a("br"),a("span",{staticClass:"line-number"},[t._v("108")]),a("br"),a("span",{staticClass:"line-number"},[t._v("109")]),a("br"),a("span",{staticClass:"line-number"},[t._v("110")]),a("br"),a("span",{staticClass:"line-number"},[t._v("111")]),a("br"),a("span",{staticClass:"line-number"},[t._v("112")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"步骤-4-测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-4-测试"}},[t._v("#")]),t._v(" 步骤 4：测试")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("测试代码")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tobestronger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("n8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("_8_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("lombok"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("slf4j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Slf4j")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.TestCustomThreadPool"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestCustomThreadPool")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPool")]),t._v(" threadPool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 死等")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            queue.put(task);")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2) 带超时等待")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            queue.offer(task, 1500, TimeUnit.MILLISECONDS);")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3) 让调用者放弃任务执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//            log.debug("放弃{}", task);')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4) 让调用者抛出异常")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//            throw new RuntimeException("任务执行失败 " + task);')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5) 让调用者自己执行任务")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前拒绝策略: 让调用者自己执行任务,没有开新线程,直接调用的run()"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我先睡1s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我是第 {} 个任务,我马上执行完了"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br")])])]),t._v(" "),a("p",[t._v("某次执行的结果：")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("某次执行日志")]),t._v(" "),a("p",[t._v("Connected to the target VM, address: '127.0.0.1:49956', transport: 'socket'\n18:25:21.216 c.ThreadPool [main] - 构造ThreadPool\n18:25:21.225 c.BlockingQueue [main] - 构造BlockingQueue\n18:25:21.228 c.ThreadPool [main] - 接收到任务需要执行: com.tobestronger.n8._8_1.TestCustomThreadPool")]),a("p",[a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML",display:"true"}},[a("mjx-math",{staticClass:" MJX-TEX",attrs:{display:"true"}},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"L"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"$"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"S"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"z"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("未")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("新")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("增")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"w"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"k"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("来")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1)],1),t._v("Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("接")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("收")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("需")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("要")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"S"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"z"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("已")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("经")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("尝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("试")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("将")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("放")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("入")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"B"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"k"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"Q"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("未")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("加")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("入")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("跑")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("起")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("来")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("让")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("看")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("看")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("有")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("没")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("有")]),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"k"}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("来")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("做")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("接")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("收")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("需")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("要")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"S"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"z"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("已")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("经")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("尝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("试")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("将")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("放")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("入")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"B"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"k"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"Q"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("已")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("按")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("照")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("拒")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("绝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("策")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("略")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("处")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("理")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("当")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("前")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("拒")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("绝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("策")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("略")]),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("让")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("调")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("用")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("者")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("自")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("己")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("没")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("有")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("开")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("新")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("线")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("程")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("直")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("接")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("调")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("用")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("的")]),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"("}}),a("mjx-c",{attrs:{c:")"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("获")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("取")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("正")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("在")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:"5C"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("睡")]),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("睡")]),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("是")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("第")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("马")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("上")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("完")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("搞")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("定")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("一")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("尝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("试")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("获")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("取")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("新")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("是")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("第")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("马")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("上")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("完")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("获")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("取")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("正")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("在")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:"5C"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("睡")]),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("接")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("收")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("需")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("要")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"S"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"z"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("已")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("经")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:"!"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("尝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("试")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("将")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("放")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("入")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"B"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"k"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"Q"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"i"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("未")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("满")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("加")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("入")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("队")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("列")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("是")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("第")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("马")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("上")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("完")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("搞")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("定")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("一")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"f"}}),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("尝")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("试")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("获")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("取")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("新")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("获")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("取")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("到")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("正")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("在")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-c",{attrs:{c:"5C"}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda"),a("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[a("mjx-math",{staticClass:" MJX-TEX"},[a("mjx-merror",[a("mjx-mtext",{staticClass:"mjx-n"},[a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"/"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"7"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"@"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"6"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("先")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("睡")]),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("是")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("第")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:","}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("我")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("马")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("上")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("执")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("行")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("完")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("了")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"5"}}),a("mjx-c",{attrs:{c:":"}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"4"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"2"}}),a("mjx-c",{attrs:{c:"3"}}),a("mjx-c",{attrs:{c:"9"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"["}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:"0"}}),a("mjx-c",{attrs:{c:"]"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"-"}}),a("mjx-c",{attrs:{c:" "}}),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("搞")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("定")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("一")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("个")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("任")]),a("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("务")]),a("mjx-c",{attrs:{c:" "}}),a("mjx-c",{attrs:{c:"c"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"b"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"g"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"n"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"8"}}),a("mjx-c",{attrs:{c:"_"}}),a("mjx-c",{attrs:{c:"1"}}),a("mjx-c",{attrs:{c:"."}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"C"}}),a("mjx-c",{attrs:{c:"u"}}),a("mjx-c",{attrs:{c:"s"}}),a("mjx-c",{attrs:{c:"t"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"m"}}),a("mjx-c",{attrs:{c:"T"}}),a("mjx-c",{attrs:{c:"h"}}),a("mjx-c",{attrs:{c:"r"}}),a("mjx-c",{attrs:{c:"e"}}),a("mjx-c",{attrs:{c:"a"}}),a("mjx-c",{attrs:{c:"d"}}),a("mjx-c",{attrs:{c:"P"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"o"}}),a("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1),t._v("$Lambda$2/626742236@62e136d3,尝试获取新任务执行\n18:25:27.241 c.ThreadPool [Thread-0] - worker 因长时间没有可执行任务 将被释放 Thread[Thread-0,5,main]\nDisconnected from the target VM, address: '127.0.0.1:49956', transport: 'socket'"),a("p"),t._v(" "),a("p",[t._v("Process finished with exit code 0")])],1),t._v(" "),a("h2",{attrs:{id:"_2-threadpoolexecutor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-threadpoolexecutor"}},[t._v("#")]),t._v(" 2. ThreadPoolExecutor")]),t._v(" "),a("p",[t._v("接下来就开始介绍 JDK 为我们提供的线程池实现。首先是 ThreadPoolExecutor。")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712110242.png",alt:"20230712110242"}})]),t._v(" "),a("p",[t._v("看上图可知，"),a("code",[t._v("ExecutorService")]),t._v(" 是线程池最基本的接口：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ScheduledExecutorService")]),t._v(" 是它的扩展接口，增加了任务调度功能")]),t._v(" "),a("li",[a("code",[t._v("ThreadPoolExecutor")]),t._v(" 是它最重要的线程池实现类")]),t._v(" "),a("li",[a("code",[t._v("ScheduledThreadPoolService")]),t._v(" 则是具有任务调度功能的线程池实现")])]),t._v(" "),a("p",[t._v("这里首先看一下 ThreadPoolExecutor 类。")]),t._v(" "),a("h3",{attrs:{id:"_2-1-线程池状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-线程池状态"}},[t._v("#")]),t._v(" 2.1 线程池状态")]),t._v(" "),a("p",[t._v("ThreadPoolExecutor 使用 int 的高 3 位来表示线程池状态，低 29 位表示线程数量。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("状态名")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("高 3 位")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("接收新任务")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("处理阻塞队列任务")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("RUNNING")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("111")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SHUTDOWN")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("不会接收新任务，但会处理阻塞队列剩余任务")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("STOP")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("会中断正在执行的任务，并抛弃阻塞队列任务")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("TIDYING")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("010")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("任务全执行完毕，活动线程为 0 即将进入终结")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("TERMINATED")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("011")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("终结状态")])])])]),t._v(" "),a("p",[t._v("从数字上比较，TERMINATED > TIDYING > STOP > SHUTDOWN > RUNNING。")]),t._v(" "),a("blockquote",[a("p",[t._v("因为第一位是符号位,RUNNING 是负数,所以最小。")])]),t._v(" "),a("p",[a("strong",[t._v("为什么要将这些信息存在一个 int 中呢")]),t._v("？这些信息存储在一个原子变量 ctl 中，目的是将线程池状态与线程个数合二为一，这样就可以用一次 cas 原子操作进行赋值：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// c 为旧值， ctlOf 返回结果为新值")]),t._v("\nctl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compareAndSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ctlOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("workerCountOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// rs 为高 3 位代表线程池状态， wc 为低 29 位代表线程个数，这个函数用来合并它们")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ctlOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" rs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" wc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" rs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" wc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-2-构造方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-构造方法"}},[t._v("#")]),t._v(" 2.2 构造方法")]),t._v(" "),a("p",[t._v("构造方法决定了这个线程池所能具备的行为，来看一下：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" corePoolSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心线程数目 (最多保留的线程数)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" maximumPoolSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最大线程数目")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" keepAliveTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生存时间 - 针对救急线程")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 时间单位 - 针对救急线程")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" workQueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻塞队列")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadFactory")]),t._v(" threadFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 线程工厂 - 可以为线程创建时起个好名字")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectedExecutionHandler")]),t._v(" handler  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拒绝策略")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("这些概念可以类比第一大节中我们自定义实现的线程池。")]),t._v(" "),a("p",[t._v("线程池中的线程分为"),a("strong",[t._v("核心线程")]),t._v("和"),a("strong",[t._v("救急线程")]),t._v("，两者的数目之和就是最大线程数目。核心线程在创建后会一直存在，而救急线程有点像外包，在干完活后如果过段时间没活了就消失了。")]),t._v(" "),a("p",[t._v("线程池的工作方式如下：")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712202106.png",alt:"20230712202106"}})]),t._v(" "),a("ul",[a("li",[t._v("线程池中刚开始没有线程，当一个任务提交给线程池后，线程池会创建一个新线程来执行任务。")]),t._v(" "),a("li",[t._v("当线程数达到 corePoolSize 并没有线程空闲，这时再加入任务，新加的任务会被加入 workQueue 队列排队，直到有空闲的线程。")]),t._v(" "),a("li",[t._v("【"),a("strong",[t._v("救急线程创建的条件")]),t._v("】如果队列选择了有界队列，那么任务超过了队列大小时，会创建 maximumPoolSize - corePoolSize 数目的线程来救急。")]),t._v(" "),a("li",[t._v("如果线程到达 maximumPoolSize 仍然有新任务这时会执行拒绝策略。拒绝策略 jdk 提供了 4 种实现，其它著名框架也提供了实现：\n"),a("ul",[a("li",[t._v("AbortPolicy 让调用者抛出 RejectedExecutionException 异常，这是默认策略")]),t._v(" "),a("li",[t._v("CallerRunsPolicy 让调用者运行任务")]),t._v(" "),a("li",[t._v("DiscardPolicy 放弃本次任务")]),t._v(" "),a("li",[t._v("DiscardOldestPolicy 放弃队列中最早的任务，本任务取而代之")]),t._v(" "),a("li",[t._v("Dubbo 的实现，在抛出 RejectedExecutionException 异常之前会记录日志，并 dump 线程栈信息，方便定位问题")]),t._v(" "),a("li",[t._v("Netty 的实现，是创建一个新线程来执行任务")]),t._v(" "),a("li",[t._v("ActiveMQ 的实现，带超时等待（60s）尝试放入队列，类似我们之前自定义的拒绝策略")]),t._v(" "),a("li",[t._v("PinPoint 的实现，它使用了一个拒绝策略链，会逐一尝试策略链中每种拒绝策略")])])]),t._v(" "),a("li",[t._v("当高峰过去后，超过corePoolSize 的救急线程如果一段时间没有任务做，需要结束线程资源，这个时间由 keepAliveTime 和 unit 来控制。")])]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712204635.png",alt:"20230712204635"}})]),t._v(" "),a("p",[t._v("由于构造方法中的参数很多，直接使用不太方便，于是 JDK 的 Executors 类中提供一些工厂方法来创建各种用途的线程池。下面来看一下这个类。")]),t._v(" "),a("h3",{attrs:{id:"_2-3-executors-类中的工厂方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-executors-类中的工厂方法"}},[t._v("#")]),t._v(" 2.3 Executors 类中的工厂方法")]),t._v(" "),a("h4",{attrs:{id:"_2-3-1-newfixedthreadpool-固定大小的线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-newfixedthreadpool-固定大小的线程池"}},[t._v("#")]),t._v(" 2.3.1 newFixedThreadPool 固定大小的线程池")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newFixedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" nThreads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nThreads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nThreads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("特点：")]),t._v(" "),a("ul",[a("li",[t._v("核心线程数 == 最大线程数（没有救急线程被创建），因此也就无需超时时间")]),t._v(" "),a("li",[t._v("阻塞队列是无界的，可以放任意数量的任务")])]),t._v(" "),a("p",[a("strong",[t._v("评价")]),t._v("：适用于任务量已知，相对耗时的任务")]),t._v(" "),a("h4",{attrs:{id:"_2-3-2-newcachedthreadpool-带缓冲的线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-newcachedthreadpool-带缓冲的线程池"}},[t._v("#")]),t._v(" 2.3.2 newCachedThreadPool 带缓冲的线程池")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCachedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MAX_VALUE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SynchronousQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("特点：")]),t._v(" "),a("ul",[a("li",[t._v("核心线程数是 0，最大线程数是 Integer.MAX_VALUE，救急线程的空闲生存时间是 60s，意味着\n"),a("ul",[a("li",[a("strong",[t._v("全部都是救急线程")]),t._v("（60s 后可以回收）")]),t._v(" "),a("li",[t._v("救急线程可以无限创建")])])]),t._v(" "),a("li",[t._v("队列采用了 "),a("code",[t._v("SynchronousQueue")]),t._v(" 实现特点是，"),a("strong",[t._v("它没有容量")]),t._v("，没有线程来取是放不进去的（一手交钱、一手交货）")])]),t._v(" "),a("p",[a("strong",[t._v("评价")]),t._v("：整个线程池表现为线程数会根据任务量不断增长，没有上限，当任务执行完毕，空闲 1分钟后释放线程。适合任务数比较密集，但每个任务执行时间较短的情况。")]),t._v(" "),a("h4",{attrs:{id:"_2-3-3-newsinglethreadexecutor-单线程执行器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-newsinglethreadexecutor-单线程执行器"}},[t._v("#")]),t._v(" 2.3.3 newSingleThreadExecutor 单线程执行器")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newSingleThreadExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinalizableDelegatedExecutorService")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("使用场景：希望多个任务排队执行。"),a("strong",[t._v("线程数固定为 1")]),t._v("，任务数多于 1 时，会放入无界队列排队。任务执行完毕，这唯一的线程也不会被释放。")]),t._v(" "),a("p",[t._v("❓ 和自己创建一个线程来工作的区别：")]),t._v(" "),a("p",[t._v("自己创建一个单线程串行执行任务，如果任务执行失败而终止那么没有任何补救措施，而线程池还会新建一个线程，保证池的正常工作")]),t._v(" "),a("p",[t._v("❓ 与 "),a("code",[t._v("Executors.newFixedThreadPool(1)")]),t._v(" 的区别：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Executors.newSingleThreadExecutor()")]),t._v(" 线程个数始终为 1，不能修改\n"),a("ul",[a("li",[t._v("FinalizableDelegatedExecutorService 应用的是装饰器模式，只对外暴露了 ExecutorService 接口，因此不能调用 ThreadPoolExecutor 中特有的方法")])])]),t._v(" "),a("li",[a("code",[t._v("Executors.newFixedThreadPool(1)")]),t._v(" 初始时为1，以后还可以修改\n"),a("ul",[a("li",[t._v("对外暴露的是 ThreadPoolExecutor 对象，可以强转后调用 setCorePoolSize 等方法进行修改")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-4-提交任务-的几个方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-提交任务-的几个方法"}},[t._v("#")]),t._v(" 2.4 提交任务(的几个方法)")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行任务")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交任务 task，用返回值 Future 获得任务执行结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Future")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交 tasks 中所有任务")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Future")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交 tasks 中所有任务，带超时时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Future")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交 tasks 中所有任务，哪个任务先成功执行完毕，返回此任务执行结果，其它任务取消")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeAny")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交 tasks 中所有任务，哪个任务先成功执行完毕，返回此任务执行结果，其它任务取消，带超时时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeAny")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeoutException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("submit 使用示例")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.TestSubmit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestSubmit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Stringp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptionExecution")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newFixedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Future")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" future "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Callable")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Overide")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"running"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" future"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v('程序运行后可以输出 "ok"。')])]),t._v(" "),a("h3",{attrs:{id:"_2-5-关闭线程池-的几个方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-关闭线程池-的几个方法"}},[t._v("#")]),t._v(" 2.5 关闭线程池(的几个方法)")]),t._v(" "),a("h4",{attrs:{id:"_2-5-1-shutdown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-shutdown"}},[t._v("#")]),t._v(" 2.5.1 shutdown")]),t._v(" "),a("p",[t._v("调用 "),a("code",[t._v("pool.shutdown()")]),t._v(" 即可。")]),t._v(" "),a("p",[t._v("线程池状态变为 SHUTDOWN：")]),t._v(" "),a("ul",[a("li",[t._v("不会接收新任务")]),t._v(" "),a("li",[t._v("但已提交任务会执行完")]),t._v(" "),a("li",[t._v("此方法不会阻塞调用线程的执行")])]),t._v(" "),a("p",[t._v("它的具体实现：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),t._v(" mainLock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给整个线程池加锁")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkShutdownAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改线程池状态")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("advanceRunState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SHUTDOWN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅会打断空闲线程")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interruptIdleWorkers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onShutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 扩展点 ScheduledThreadPoolExecutor")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 尝试终结(没有运行的线程可以立刻终结，如果还有运行的线程也不会等)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tryTerminate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h4",{attrs:{id:"_2-5-2-shutdownnow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-shutdownnow"}},[t._v("#")]),t._v(" 2.5.2 shutdownNow")]),t._v(" "),a("p",[t._v("线程池状态变为 STOP：")]),t._v(" "),a("ul",[a("li",[t._v("不会接收新任务")]),t._v(" "),a("li",[t._v("会将队列中的任务返回 "),a("code",[t._v("List<Runnable>")])]),t._v(" "),a("li",[t._v("并用 interrupt 的方式中断正在执行的任务")])]),t._v(" "),a("p",[t._v("其实现为：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdownNow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),t._v(" mainLock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkShutdownAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改线程池状态")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("advanceRunState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("STOP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打断所有线程（在 shutdown 方法中是只打断空闲的）")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interruptWorkers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取队列中剩余任务")]),t._v("\n        tasks "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drainQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        mainLock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 尝试终结")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tryTerminate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h4",{attrs:{id:"_2-5-3-其他方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-其他方法"}},[t._v("#")]),t._v(" 2.5.3 其他方法")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不在 RUNNING 状态的线程池，此方法就返回 true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isShutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 线程池状态是否是 TERMINATED")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTerminated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用 shutdown 后，由于调用线程并不会等待所有任务运行结束，因此如果它想在线程池 TERMINATED 后做些事情，可以利用此方法等待")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awaitTermination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h3",{attrs:{id:"_2-6-异步模式之工作线程模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-异步模式之工作线程模式"}},[t._v("#")]),t._v(" 2.6 异步模式之工作线程模式")]),t._v(" "),a("h4",{attrs:{id:"_2-6-1-定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-定义"}},[t._v("#")]),t._v(" 2.6.1 定义")]),t._v(" "),a("p",[t._v("让有限的工作线程（Worker Thread）来轮流异步处理无限多的任务。也可以将其归类为分工模式，它的典型实现就是线程池，也体现了经典设计模式中的享元模式。")]),t._v(" "),a("blockquote",[a("p",[t._v("例如，海底捞的服务员（线程），轮流处理每位客人的点餐（任务），如果为每位客人都配一名专属的服务员，那么成本就太高了（对比另一种多线程设计模式：Thread-Per-Message）")])]),t._v(" "),a("p",[t._v("注意，不同任务类型应该使用不同的线程池，这样能够避免饥饿，并能提升效率。")]),t._v(" "),a("blockquote",[a("p",[t._v("例如，如果一个餐馆的工人既要招呼客人（任务类型A），又要到后厨做菜（任务类型B）显然效率不咋地，分成服务员（线程池A）与厨师（线程池B）更为合理，当然你能想到更细致的分工。")])]),t._v(" "),a("h4",{attrs:{id:"_2-6-2-饥饿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-饥饿"}},[t._v("#")]),t._v(" 2.6.2 饥饿")]),t._v(" "),a("p",[t._v("固定大小线程池会有饥饿现象，比如：")]),t._v(" "),a("ul",[a("li",[t._v("两个工人是同一个线程池中的两个线程")]),t._v(" "),a("li",[t._v("他们要做的事情是：为客人点餐和到后厨做菜，这是两个阶段的工作\n"),a("ul",[a("li",[t._v("客人点餐：必须先点完餐，等菜做好，上菜，在此期间处理点餐的工人必须等待")]),t._v(" "),a("li",[t._v("后厨做菜：没啥说的，做就是了")])])]),t._v(" "),a("li",[t._v("比如工人A 处理了点餐任务，接下来它要等着 工人B 把菜做好，然后上菜，他俩也配合的蛮好")]),t._v(" "),a("li",[t._v("但现在同时来了两个客人，这个时候工人 A 和工人 B 都去处理点餐了，并都开始等待上菜，但这时没人做饭了，出现"),a("strong",[t._v("饥饿")]),t._v("问题")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意，这是"),a("strong",[t._v("饥饿")]),t._v("问题，而"),a("strong",[t._v("不是死锁")]),t._v("，因为再加个线程就能解决这个问题了。")])]),t._v(" "),a("p",[t._v("解决方法可以是增加线程池的大小，不过这不是根本解决方案，根本的解决方法还是："),a("mark",[t._v("不同的任务类型，采用不同的线程池")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"_2-6-3-线程池多大比较合适"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-3-线程池多大比较合适"}},[t._v("#")]),t._v(" 2.6.3 线程池多大比较合适")]),t._v(" "),a("ul",[a("li",[t._v("过小会导致程序不能充分地利用系统资源、容易导致饥饿")]),t._v(" "),a("li",[t._v("过大会导致更多的线程上下文切换，占用更多内存")])]),t._v(" "),a("p",[t._v("计算分为两种：")]),t._v(" "),a("ul",[a("li",[t._v("CPU 密集型运算：通常采用 cpu 核数 + 1 能够实现最优的 CPU 利用率，+1 是保证当线程由于页缺失故障（操作系统）或其它原因导致暂停时，额外的这个线程就能顶上去，保证 CPU 时钟周期不被浪费。")]),t._v(" "),a("li",[t._v("I/O 密集型运算：CPU 不总是处于繁忙状态，例如，当你执行业务计算时，这时候会使用 CPU 资源，但当你执行 I/O 操作时、远程 RPC 调用时，包括进行数据库操作时，这时候 CPU 就闲下来了，你可以利用多线程提高它的利用率。")])]),t._v(" "),a("p",[t._v("IO 密集型的经验公式如下："),a("code",[t._v("线程数 = 核数 * 期望 CPU 利用率 * 总时间(CPU计算时间+等待时间) / CPU 计算时间")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("例如 4 核 CPU 计算时间是 50% ，其它等待时间是 50%，期望 cpu 被 100% 利用，套用公式 "),a("code",[t._v("4 * 100% * 100% / 50% = 8")])]),t._v(" "),a("li",[t._v("例如 4 核 CPU 计算时间是 10% ，其它等待时间是 90%，期望 cpu 被 100% 利用，套用公式 "),a("code",[t._v("4 * 100% * 100% / 10% = 40")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-7-任务调度线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-任务调度线程池"}},[t._v("#")]),t._v(" 2.7 任务调度线程池")]),t._v(" "),a("p",[t._v("有时我们希望任务可以延时执行，或者反复执行，于是引入了任务调度线程池。")]),t._v(" "),a("h4",{attrs:{id:"_2-7-1-java-util-timer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-java-util-timer"}},[t._v("#")]),t._v(" 2.7.1 java.util.Timer")]),t._v(" "),a("p",[t._v("不过在加入任务调度线程池功能前，就可以使用 java.util."),a("strong",[t._v("Timer")]),t._v(" 来实现定时功能，Timer 的"),a("strong",[t._v("优点在于简单易用")]),t._v("，但由于所有任务都是由同一个线程来调度，因此所有任务都是串行执行的，同一时间只能有一个任务在执行，"),a("strong",[t._v("前一个任务的延迟或异常都将会影响到之后的任务")]),t._v("。")]),t._v(" "),a("p",[t._v("下面是使用 Timer 来实现延迟执行的示例：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Timer")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Timer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimerTask")]),t._v(" task1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimerTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"task 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimerTask")]),t._v(" task2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimerTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"task 2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 timer 添加两个任务，希望它们都在 1s 后执行")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 但由于 timer 内只有一个线程来顺序执行队列中的任务，因此『任务1』的延时，影响了『任务2』的执行")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 甚至如果task1出异常停止后,task2都不会执行")]),t._v("\n    timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("h4",{attrs:{id:"_2-7-2-scheduledexecutorservice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-2-scheduledexecutorservice"}},[t._v("#")]),t._v(" 2.7.2 ScheduledExecutorService")]),t._v(" "),a("p",[t._v("只使用 Timer 容易由于异常导致问题，因此应该使用 ScheduledExecutorService。下面是改写后的：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduledExecutorService")]),t._v(" executor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newScheduledThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加两个任务，希望它们都在 1s 后执行")]),t._v("\nexecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务1，执行时间："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务2，执行时间："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("而且该 executor 的其中一个任务出现异常的话，也不会影响其他的任务执行。")]),t._v(" "),a("p",[t._v("如果想每隔 xx 秒执行一次任务，那么就需要 "),a("mark",[t._v("scheduleAtFixedRate()")]),t._v(" 方法，示例如下：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduledExecutorService")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newScheduledThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nlog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduleAtFixedRate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"running..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("但如果任务的实际执行时间超过了设置的间隔，那么间隔时间会被『撑』到实际执行时间，这样不会出现任务的重叠执行，而是顺序依次执行。")]),t._v(" "),a("p",[t._v("与其相类似的另一个方法是："),a("mark",[t._v("scheduleAtFixedDelay()")]),t._v("，它是从上一个任务执行结束后开始算间隔时间。")]),t._v(" "),a("h4",{attrs:{id:"_2-7-3-评价"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-3-评价"}},[t._v("#")]),t._v(" 2.7.3 评价")]),t._v(" "),a("p",[t._v("整个线程池表现为：线程数固定，任务数多于线程数时，会放入无界队列排队。任务执行完毕，这些线程也不会被释放。用来执行延迟或反复执行的任务。")]),t._v(" "),a("h3",{attrs:{id:"_2-8-正确处理执行任务异常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-正确处理执行任务异常"}},[t._v("#")]),t._v(" 2.8 正确处理执行任务异常")]),t._v(" "),a("h4",{attrs:{id:"_2-8-1-方法-1-主动捉异常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-1-方法-1-主动捉异常"}},[t._v("#")]),t._v(" 2.8.1 方法 1：主动捉异常")]),t._v(" "),a("p",[t._v("这样是由任务自己处理可能抛出的异常。")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newScheduledThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"task1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h4",{attrs:{id:"_2-8-2-方法-2-使用-future"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-2-方法-2-使用-future"}},[t._v("#")]),t._v(" 2.8.2 方法 2：使用 Future")]),t._v(" "),a("p",[t._v("当任务执行出现异常时，future 的 "),a("code",[t._v("get()")]),t._v(" 返回的不是任务的返回值，而是异常信息。示例如下：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newFixedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Future")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"task1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"result:{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h3",{attrs:{id:"_2-9-案例-定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-案例-定时任务"}},[t._v("#")]),t._v(" 2.9 案例：定时任务")]),t._v(" "),a("p",[t._v("如何让每周四 18:00:00 定时执行任务？")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获得当前时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalDateTime")]),t._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalDateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取本周四 18:00:00.000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalDateTime")]),t._v(" thursday "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n    now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DayOfWeek")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("THURSDAY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withHour")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withMinute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withSecond")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withNano")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果当前时间已经超过 本周四 18:00:00.000， 那么找下周四 18:00:00.000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compareTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thursday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    thursday "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" thursday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("plusWeeks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算时间差，即延时执行时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" initialDelay "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Duration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("between")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" thursday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算间隔时间，即 1 周的毫秒值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" oneWeek "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduledExecutorService")]),t._v(" executor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newScheduledThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开始时间："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduleAtFixedRate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"执行时间："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialDelay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oneWeek"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MILLISECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("h2",{attrs:{id:"_3-案例-tomcat-的线程池应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-案例-tomcat-的线程池应用"}},[t._v("#")]),t._v(" 3. 案例：Tomcat 的线程池应用")]),t._v(" "),a("p",[t._v("Tomcat 在哪里用到了线程池呢？这里主要看一下 Connector 组件所用到的线程池。")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712225803.png",alt:"20230712225803"}})]),t._v(" "),a("ul",[a("li",[t._v("LimitLatch 用来限流，可以控制最大连接个数，类似 J.U.C 中的 Semaphore 后面再讲")]),t._v(" "),a("li",[t._v("Acceptor 是个死循环，只负责【接收新的 socket 连接】")]),t._v(" "),a("li",[t._v("Poller 只负责监听 socket channel 是否有【可读的 I/O 事件】")]),t._v(" "),a("li",[t._v("一旦可读，封装一个任务对象（socketProcessor），提交给 Executor 线程池处理")]),t._v(" "),a("li",[t._v("Executor 线程池中的工作线程最终负责【处理请求】")])]),t._v(" "),a("p",[t._v("接下来看一下具体应用。")]),t._v(" "),a("h3",{attrs:{id:"_3-1-扩展了-threadpoolexecutor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-扩展了-threadpoolexecutor"}},[t._v("#")]),t._v(" 3.1 扩展了 ThreadPoolExecutor")]),t._v(" "),a("p",[t._v("Tomcat 线程池扩展了 ThreadPoolExecutor，行为稍有不同：")]),t._v(" "),a("ul",[a("li",[t._v("如果总线程数达到 maximumPoolSize\n"),a("ul",[a("li",[t._v("这时不会立刻抛 RejectedExecutionException 异常")]),t._v(" "),a("li",[t._v("而是再次尝试将任务放入队列，如果还失败，才抛出 RejectedExecutionException 异常")])])])]),t._v(" "),a("p",[t._v("Tomcat 7.0.42 源码：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    submittedCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("incrementAndGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 先执行这个任务")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectedExecutionException")]),t._v(" rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 捕获抛出的拒绝执行异常")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("force")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    submittedCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrementAndGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectedExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Queue capacity is full."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                submittedCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrementAndGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectedExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            submittedCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrementAndGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br")])]),a("p",[a("strong",[t._v("force 方法")]),t._v("：")]),t._v(" "),a("p",[t._v("在上面的 "),a("code",[t._v("!queue.force(...)")]),t._v(" 那一行的 force 方法代码如下（TaskQueue.java 中），它尝试将任务放入队列中：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("force")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isShutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RejectedExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Executor not running, can\'t force a command into the queue"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//forces the item onto the queue, to be used if the task ")]),t._v("\n    is rejected\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h3",{attrs:{id:"_3-2-connector-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-connector-配置"}},[t._v("#")]),t._v(" 3.2 Connector 配置")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712230630.png",alt:"20230712230630"}})]),t._v(" "),a("p",[t._v("acceptThreadCount 和 pollerThreadCount 一个线程就足够了。因为 Acceptor 大部分时间是在等待的，而 Poller 利用了多路复用技术，一个线程就可以监听多个。")]),t._v(" "),a("h3",{attrs:{id:"_3-3-executor-线程配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-executor-线程配置"}},[t._v("#")]),t._v(" 3.3 Executor 线程配置")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712230837.png",alt:"20230712230837"}})]),t._v(" "),a("h3",{attrs:{id:"_3-4-tomcat-执行任务的流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-tomcat-执行任务的流程"}},[t._v("#")]),t._v(" 3.4 Tomcat 执行任务的流程")]),t._v(" "),a("p",[t._v("它创建救急队列的方式与 JDK 中的有些不太一样，它不是等任务阻塞队列满了之后才创建：")]),t._v(" "),a("center",[a("img",{staticStyle:{zoom:"75%"},attrs:{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20230712230944.png",alt:"20230712230944"}})]),t._v(" "),a("h2",{attrs:{id:"_4-fork-join-线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-fork-join-线程池"}},[t._v("#")]),t._v(" 4. Fork/Join 线程池")]),t._v(" "),a("h3",{attrs:{id:"_4-1-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-概念"}},[t._v("#")]),t._v(" 4.1 概念")]),t._v(" "),a("p",[a("mark",[t._v("Fork/Join 线程池")]),t._v("是 JDK 1.7 加入的新的线程池实现，它体现的是一种"),a("strong",[t._v("分治思想")]),t._v("，"),a("strong",[t._v("适用于能够进行任务拆分的 cpu 密集型运算")]),t._v("。")]),t._v(" "),a("p",[t._v("所谓的"),a("strong",[t._v("任务拆分")]),t._v("，是将一个大任务拆分为算法上相同的小任务，直至不能拆分可以直接求解。跟递归相关的一些计算，如归并排序、斐波那契数列、都可以用分治思想进行求解。")]),t._v(" "),a("p",[t._v("Fork/Join 在分治的基础上加入了多线程，可以把每个任务的分解和合并交给不同的线程来完成，进一步提升了运算效率。")]),t._v(" "),a("p",[t._v("Fork/Join 默认会创建与 cpu 核心数大小相同的线程池。")]),t._v(" "),a("h3",{attrs:{id:"_4-2-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-使用"}},[t._v("#")]),t._v(" 4.2 使用")]),t._v(" "),a("p",[t._v("它的使用分成两步：")]),t._v(" "),a("ol",[a("li",[t._v("首先创建一个任务对象")]),t._v(" "),a("li",[t._v("将任务对象交由 ForkJoinPool 执行")])]),t._v(" "),a("p",[t._v("提交给 Fork/Join 线程池的任务需要继承 "),a("mark",[t._v("RecursiveTask")]),t._v("（有返回值）或 "),a("mark",[t._v("RecursiveAction")]),t._v("（没有返回值），例如下面定义了一个对 1~n 之间的整数求和的任务：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.AddTask"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddTask1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RecursiveTask")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddTask1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token char"}},[t._v("'}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果 n 已经为 1，可以求得结果了")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"join() {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将任务进行拆分(fork)")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddTask1")]),t._v(" t1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddTask1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fork() {} + {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 合并(join)结果")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"join() {} + {} = {}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br")])]),a("p",[t._v("然后提交给 ForkJoinPool 来执行：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForkJoinPool")]),t._v(" pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ForkJoinPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddTask1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("打印结果：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4,5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ? \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3,3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ? \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3,3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ForkJoinPool-1-worker-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" + "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4,5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);